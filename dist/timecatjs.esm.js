const t=new Set;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,i=n((function(t,e){!function(t){function e(){}function n(t,e,n,r,i){for(var o=0,s=e.length,a=0,c=0;o<s;o++){var h=e[o];if(h.removed){if(h.value=t.join(r.slice(c,c+h.count)),c+=h.count,o&&e[o-1].added){var l=e[o-1];e[o-1]=e[o],e[o]=l}}else{if(!h.added&&i){var d=n.slice(a,a+h.count);d=d.map((function(t,e){var n=r[c+e];return n.length>t.length?n:t})),h.value=t.join(d)}else h.value=t.join(n.slice(a,a+h.count));a+=h.count,h.added||(c+=h.count)}}var u=e[s-1];return s>1&&"string"==typeof u.value&&(u.added||u.removed)&&t.equals("",u.value)&&(e[s-2].value+=u.value,e.pop()),e}function r(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.prototype={diff:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.callback;"function"==typeof i&&(o=i,i={}),this.options=i;var s=this;function a(t){return o?(setTimeout((function(){o(void 0,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var c=(e=this.removeEmpty(this.tokenize(e))).length,h=t.length,l=1,d=c+h,u=[{newPos:-1,components:[]}],f=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=c&&f+1>=h)return a([{value:this.join(e),count:e.length}]);function p(){for(var i=-1*l;i<=l;i+=2){var o=void 0,d=u[i-1],f=u[i+1],p=(f?f.newPos:0)-i;d&&(u[i-1]=void 0);var m=d&&d.newPos+1<c,g=f&&0<=p&&p<h;if(m||g){if(!m||g&&d.newPos<f.newPos?(o=r(f),s.pushComponent(o.components,void 0,!0)):((o=d).newPos++,s.pushComponent(o.components,!0,void 0)),p=s.extractCommon(o,e,t,i),o.newPos+1>=c&&p+1>=h)return a(n(s,o.components,e,t,s.useLongestToken));u[i]=o}else u[i]=void 0}l++}if(o)!function t(){setTimeout((function(){if(l>d)return o();p()||t()}),0)}();else for(;l<=d;){var m=p();if(m)return m}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,s=t.newPos,a=s-r,c=0;s+1<i&&a+1<o&&this.equals(e[s+1],n[a+1]);)s++,a++,c++;return c&&t.components.push({count:c}),t.newPos=s,a},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var i=new e;function o(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,c=new e;c.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!a.test(t)&&!a.test(e)},c.tokenize=function(t){for(var e=t.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&s.test(e[n])&&s.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var h=new e;function l(t,e,n){return h.diff(t,e,n)}h.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};var d=new e;d.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var u=new e;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}u.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,g=new e;function y(t,e,n,r,i){var o,s;for(e=e||[],n=n||[],r&&(t=r(i,t)),o=0;o<e.length;o+=1)if(e[o]===t)return n[o];if("[object Array]"===m.call(t)){for(e.push(t),s=new Array(t.length),n.push(s),o=0;o<t.length;o+=1)s[o]=y(t[o],e,n,r,i);return e.pop(),n.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),"object"===f(t)&&null!==t){e.push(t),s={},n.push(s);var a,c=[];for(a in t)t.hasOwnProperty(a)&&c.push(a);for(c.sort(),o=0;o<c.length;o+=1)s[a=c[o]]=y(t[a],e,n,r,a);e.pop(),n.pop()}else s=t;return s}g.useLongestToken=!0,g.tokenize=h.tokenize,g.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,i=void 0===r?function(t,e){return void 0===e?n:e}:r;return"string"==typeof t?t:JSON.stringify(y(t,null,null,i),i,"  ")},g.equals=function(t,n){return e.prototype.equals.call(g,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var v=new e;function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var t={};for(i.push(t);o<n.length;){var r=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);s&&(t.index=s[1]),o++}for(a(t),a(t),t.hunks=[];o<n.length;){var h=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(h))break;if(/^@@/.test(h))t.hunks.push(c());else{if(h&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(h));o++}}}function a(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(e){var r="---"===e[1]?"old":"new",i=e[2].split("\t",2),s=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),t[r+"FileName"]=s,t[r+"Header"]=(i[1]||"").trim(),o++}}function c(){for(var t=o,i=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+i[1],oldLines:+i[2]||1,newStart:+i[3],newLines:+i[4]||1,lines:[],linedelimiters:[]},a=0,c=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var h=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==h&&"-"!==h&&" "!==h&&"\\"!==h)break;s.lines.push(n[o]),s.linedelimiters.push(r[o]||"\n"),"+"===h?a++:"-"===h?c++:" "===h&&(a++,c++)}if(a||1!==s.newLines||(s.newLines=0),c||1!==s.oldLines||(s.oldLines=0),e.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(c!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return s}for(;o<n.length;)s();return i}function b(t,e,n){var r=!0,i=!1,o=!1,s=1;return function a(){if(r&&!o){if(i?s++:r=!1,t+s<=n)return s;o=!0}if(!i)return o||(r=!0),e<=t-s?-s++:(i=!0,a())}}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=w(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r,i,o=t.split(/\r\n|[\n\v\f\r\x85]/),s=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=e.hunks,c=n.compareLine||function(t,e,n,r){return e===r},h=0,l=n.fuzzFactor||0,d=0,u=0;function f(t,e){for(var n=0;n<t.lines.length;n++){var r=t.lines[n],i=r.length>0?r[0]:" ",s=r.length>0?r.substr(1):r;if(" "===i||"-"===i){if(!c(e+1,o[e],i,s)&&++h>l)return!1;e++}}return!0}for(var p=0;p<a.length;p++){for(var m=a[p],g=o.length-m.oldLines,y=0,v=u+m.oldStart-1,_=b(v,d,g);void 0!==y;y=_())if(f(m,v+y)){m.offset=u+=y;break}if(void 0===y)return!1;d=m.offset+m.oldStart+m.oldLines}for(var k=0,x=0;x<a.length;x++){var C=a[x],E=C.oldStart+C.offset+k-1;k+=C.newLines-C.oldLines,E<0&&(E=0);for(var S=0;S<C.lines.length;S++){var A=C.lines[S],N=A.length>0?A[0]:" ",B=A.length>0?A.substr(1):A,F=C.linedelimiters[S];if(" "===N)E++;else if("-"===N)o.splice(E,1),s.splice(E,1);else if("+"===N)o.splice(E,0,B),s.splice(E,0,F),E++;else if("\\"===N){var O=C.lines[S-1]?C.lines[S-1][0]:null;"+"===O?r=!0:"-"===O&&(i=!0)}}}if(r)for(;!o[o.length-1];)o.pop(),s.pop();else i&&(o.push(""),s.push("\n"));for(var T=0;T<o.length-1;T++)o[T]=o[T]+s[T];return o.join("")}function k(t,e,n,r,i,o,s){s||(s={}),void 0===s.context&&(s.context=4);var a=l(n,r,s);function c(t){return t.map((function(t){return" "+t}))}a.push({value:"",lines:[]});for(var h=[],d=0,u=0,f=[],m=1,g=1,y=function(t){var e=a[t],i=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=i,e.added||e.removed){var o;if(!d){var l=a[t-1];d=m,u=g,l&&(f=s.context>0?c(l.lines.slice(-s.context)):[],d-=f.length,u-=f.length)}(o=f).push.apply(o,p(i.map((function(t){return(e.added?"+":"-")+t})))),e.added?g+=i.length:m+=i.length}else{if(d)if(i.length<=2*s.context&&t<a.length-2){var y;(y=f).push.apply(y,p(c(i)))}else{var v,w=Math.min(i.length,s.context);(v=f).push.apply(v,p(c(i.slice(0,w))));var b={oldStart:d,oldLines:m-d+w,newStart:u,newLines:g-u+w,lines:f};if(t>=a.length-2&&i.length<=s.context){var _=/\n$/.test(n),k=/\n$/.test(r),x=0==i.length&&f.length>b.oldLines;!_&&x&&f.splice(b.oldLines,0,"\\ No newline at end of file"),(_||x)&&k||f.push("\\ No newline at end of file")}h.push(b),d=0,u=0,f=[]}m+=i.length,g+=i.length}},v=0;v<a.length;v++)y(v);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:h}}function x(t,e,n,r,i,o,s){var a=k(t,e,n,r,i,o,s),c=[];t==e&&c.push("Index: "+t),c.push("==================================================================="),c.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"\t"+a.oldHeader)),c.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"\t"+a.newHeader));for(var h=0;h<a.hunks.length;h++){var l=a.hunks[h];c.push("@@ -"+l.oldStart+","+l.oldLines+" +"+l.newStart+","+l.newLines+" @@"),c.push.apply(c,l.lines)}return c.join("\n")+"\n"}function C(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function E(t){var e=function t(e){var n=0,r=0;return e.forEach((function(e){if("string"!=typeof e){var i=t(e.mine),o=t(e.theirs);void 0!==n&&(i.oldLines===o.oldLines?n+=i.oldLines:n=void 0),void 0!==r&&(i.newLines===o.newLines?r+=i.newLines:r=void 0)}else void 0===r||"+"!==e[0]&&" "!==e[0]||r++,void 0===n||"-"!==e[0]&&" "!==e[0]||n++})),{oldLines:n,newLines:r}}(t.lines),n=e.oldLines,r=e.newLines;void 0!==n?t.oldLines=n:delete t.oldLines,void 0!==r?t.newLines=r:delete t.newLines}function S(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return w(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return k(void 0,void 0,e,t)}return t}function A(t){return t.newFileName&&t.newFileName!==t.oldFileName}function N(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function B(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function F(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function O(t,e,n,r,i){var o={offset:e,lines:n,index:0},s={offset:r,lines:i,index:0};for(L(t,o,s),L(t,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var a=o.lines[o.index],c=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==c[0]&&"+"!==c[0])if("+"===a[0]&&" "===c[0]){var h;(h=t.lines).push.apply(h,p(P(o)))}else if("+"===c[0]&&" "===a[0]){var l;(l=t.lines).push.apply(l,p(P(s)))}else"-"===a[0]&&" "===c[0]?D(t,o,s):"-"===c[0]&&" "===a[0]?D(t,s,o,!0):a===c?(t.lines.push(a),o.index++,s.index++):R(t,P(o),P(s));else T(t,o,s)}I(t,o),I(t,s),E(t)}function T(t,e,n){var r,i,o=P(e),s=P(n);if(z(o)&&z(s)){var a,c;if(C(o,s)&&M(n,o,o.length-s.length))return void(a=t.lines).push.apply(a,p(o));if(C(s,o)&&M(e,s,s.length-o.length))return void(c=t.lines).push.apply(c,p(s))}else if(i=s,(r=o).length===i.length&&C(r,i)){var h;return void(h=t.lines).push.apply(h,p(o))}R(t,o,s)}function D(t,e,n,r){var i,o=P(e),s=function(t,e){for(var n=[],r=[],i=0,o=!1,s=!1;i<e.length&&t.index<t.lines.length;){var a=t.lines[t.index],c=e[i];if("+"===c[0])break;if(o=o||" "!==a[0],r.push(c),i++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=t.lines[++t.index];c.substr(1)===a.substr(1)?(n.push(a),t.index++):s=!0}if("+"===(e[i]||"")[0]&&o&&(s=!0),s)return n;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:n}}(n,o);s.merged?(i=t.lines).push.apply(i,p(s.merged)):R(t,r?s:o,r?o:s)}function R(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function L(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r),e.offset++}}function I(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function P(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var r=t.lines[t.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;e.push(r),t.index++}return e}function z(t){return t.reduce((function(t,e){return t&&"-"===e[0]}),!0)}function M(t,e,n){for(var r=0;r<n;r++){var i=e[e.length-n+r].substr(1);if(t.lines[t.index+r]!==" "+i)return!1}return t.index+=n,!0}function U(t){var e=t;return e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}v.tokenize=function(t){return t.slice()},v.join=v.removeEmpty=function(t){return t},t.Diff=e,t.diffChars=function(t,e,n){return i.diff(t,e,n)},t.diffWords=function(t,e,n){return n=o(n,{ignoreWhitespace:!0}),c.diff(t,e,n)},t.diffWordsWithSpace=function(t,e,n){return c.diff(t,e,n)},t.diffLines=l,t.diffTrimmedLines=function(t,e,n){var r=o(n,{ignoreWhitespace:!0});return h.diff(t,e,r)},t.diffSentences=function(t,e,n){return d.diff(t,e,n)},t.diffCss=function(t,e,n){return u.diff(t,e,n)},t.diffJson=function(t,e,n){return g.diff(t,e,n)},t.diffArrays=function(t,e,n){return v.diff(t,e,n)},t.structuredPatch=k,t.createTwoFilesPatch=x,t.createPatch=function(t,e,n,r,i,o){return x(t,t,e,n,r,i,o)},t.applyPatch=_,t.applyPatches=function(t,e){"string"==typeof t&&(t=w(t));var n=0;!function r(){var i=t[n++];if(!i)return e.complete();e.loadFile(i,(function(t,n){if(t)return e.complete(t);var o=_(n,i,e);e.patched(i,o,(function(t){if(t)return e.complete(t);r()}))}))}()},t.parsePatch=w,t.merge=function(t,e,n){t=S(t,n),e=S(e,n);var r={};(t.index||e.index)&&(r.index=t.index||e.index),(t.newFileName||e.newFileName)&&(A(t)?A(e)?(r.oldFileName=N(r,t.oldFileName,e.oldFileName),r.newFileName=N(r,t.newFileName,e.newFileName),r.oldHeader=N(r,t.oldHeader,e.oldHeader),r.newHeader=N(r,t.newHeader,e.newHeader)):(r.oldFileName=t.oldFileName,r.newFileName=t.newFileName,r.oldHeader=t.oldHeader,r.newHeader=t.newHeader):(r.oldFileName=e.oldFileName||t.oldFileName,r.newFileName=e.newFileName||t.newFileName,r.oldHeader=e.oldHeader||t.oldHeader,r.newHeader=e.newHeader||t.newHeader)),r.hunks=[];for(var i=0,o=0,s=0,a=0;i<t.hunks.length||o<e.hunks.length;){var c=t.hunks[i]||{oldStart:1/0},h=e.hunks[o]||{oldStart:1/0};if(B(c,h))r.hunks.push(F(c,s)),i++,a+=c.newLines-c.oldLines;else if(B(h,c))r.hunks.push(F(h,a)),o++,s+=h.newLines-h.oldLines;else{var l={oldStart:Math.min(c.oldStart,h.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,h.oldStart+a),newLines:0,lines:[]};O(l,c.oldStart,c.lines,h.oldStart,h.lines),o++,i++,r.hunks.push(l)}}return r},t.convertChangesToDMP=function(t){for(var e,n,r=[],i=0;i<t.length;i++)n=(e=t[i]).added?1:e.removed?-1:0,r.push([n,e.value]);return r},t.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(U(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")},t.canonicalize=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)})),o=(r=i)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function s(){return performance.timing.navigationStart+performance.now()}function a(){return(20*Math.random()+16).toString(36).substring(4,10).toUpperCase()}function c(t){const e=t.split(":");if(2===e.length){const[t,n]=e;return 1e3*(60*+t+ +n)}const[n,r,i]=e;return 1e3*(3600*+n+60*+r+ +i)}function h(t){return!!t.vNode}function l(t){const e=[];let n;return t.forEach(t=>{if(h(t))n={snapshot:t,records:[],audio:{src:"",bufferStrList:[],subtitles:[],opts:{}}},e.push(n);else if("AUDIO"===t.type)if(function(t){return"base64"===t.data.type}(t)){const e=t;n.audio.bufferStrList.push(...e.data.data)}else n.audio.opts=t.data.data;else n.records.push(t)}),e}async function d(t=200){return new Promise(e=>{setTimeout(()=>e(),t)})}function u(t){return!!t.tag}function f(t,e){var n=document.createElement("a");n.download=e,"string"==typeof t?(n.href=t,n.click()):(n.href=URL.createObjectURL(t),n.click(),URL.revokeObjectURL(n.href))}function p(t,e){return function(t){let e=0;return t.map(t=>{const{added:n,removed:r,value:i,count:o}=t,s=o||0;if(n){const t={index:e,type:"add",value:i};return e+=s,t}if(r){return{index:e,type:"rm",len:s}}e+=s}).filter(Boolean)}(o.diffChars(t,e))}const m=new((()=>{class t{constructor(){this.createNodeId=()=>t.nodeId++,this.init()}init(){this.nodeMap=new Map,this.idMap=new WeakMap}reset(){this.nodeMap.clear()}getNode(t){return this.nodeMap.get(t)||null}addNode(t,e=this.createNodeId()){return this.idMap.set(t,e),this.nodeMap.set(e,t),e}removeNode(t){this.nodeMap.delete(t),this.idMap.delete(this.getNode(t))}getNodeId(t){return this.idMap.get(t)}updateNode(t,e){this.idMap.set(e,t),this.nodeMap.set(t,e)}}return t.nodeId=1,t})());class g{constructor(t,e,n,r){this.DBName=t,this.version=e,this.storeName=n;const i=window.indexedDB.open(t,e);i.onerror=t=>{console.error("open indexedDB on error")},i.onsuccess=t=>{this.db=i.result,r(this.db)},i.onupgradeneeded=t=>{const e=t.target.result;if(!e.objectStoreNames.contains(n)){const t=e.createObjectStore(n,{autoIncrement:!0,keyPath:"id"});t.createIndex("type","type",{unique:!1}),t.createIndex("data","data",{unique:!1}),t.createIndex("time","time",{unique:!1})}}}add(t){this.db.transaction([""+this.storeName],"readwrite").objectStore(""+this.storeName).add(t).onerror=t=>{throw new Error("write indexedDB on error")}}clear(){this.db.transaction([""+this.storeName],"readwrite").objectStore(""+this.storeName).clear()}async readAllRecords(){const t=this.db.transaction([""+this.storeName],"readwrite").objectStore(""+this.storeName);return new Promise(e=>{t.getAll().onsuccess=t=>{e(t.target.result)}})}}const y=new Promise(t=>{const e=new g("cat_db",1,"cat_data",()=>{t(e)})});let v={speed:null};var w;!function(t){t.SPEED="SPEED"}(w||(w={}));const b={frame:0,length:0,curTime:0,startTime:0,endTime:0};var _;function k(t,e,n={leading:!1,trailing:!1}){var r,i,o,s=null,a=0,c=function(){a=!1===n.leading?0:Date.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var h=Date.now();a||!1!==n.leading||(a=h);var l=e-(h-a);return r=this,i=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=h,o=t.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(c,l)),o}}function x(t,e,n={isImmediate:!1}){let r;return function(...i){const o=this,s=n.isImmediate&&void 0===r;void 0!==r&&clearTimeout(r),r=setTimeout((function(){r=void 0,n.isImmediate||t.apply(o,i)}),e),s&&t.apply(o,i)}}!function(t){t.FORWARD="FORWARD",t.BACKWARD="BACKWARD",t.INFO="INFO"}(_||(_={}));const C=function(t,e={}){let n=e;const r={all:[]};return{subscribe:function(...t){let e,n="all";"string"==typeof t[0]?(n=t[0],e=t[1]):e=t[0],r[n]||(r[n]=[]),r[n].push(e)},dispatch:function(e){const i=n;if(n=t(n,e),!e)return void(r.all&&r.all.forEach(t=>t(n)));const o=function(t){const e={player:Object.keys(w),progress:Object.keys(_)};for(let[n,r]of Object.entries(e))if(r.includes(t))return n;return null}(e.type);return o&&r[o]?r[o].forEach(t=>{(function t(e,n){if(null==e||null==n)return e===n;if(e.constructor!==n.constructor)return!1;if(e instanceof Function)return e===n;if(e instanceof RegExp)return e===n;if(e===n||e.valueOf()===n.valueOf())return!0;if(Array.isArray(e)&&e.length!==n.length)return!1;if(e instanceof Date)return!1;if(!(e instanceof Object))return!1;if(!(n instanceof Object))return!1;var r=Object.keys(e);return Object.keys(n).every((function(t){return-1!==r.indexOf(t)}))&&r.every((function(r){return t(e[r],n[r])}))})(n[o],i[o])||t(n[o])}):void 0},getState:function(){return n}}}(function(t){const e=Object.keys(t);return function(n,r){const i={};for(let o=0;o<e.length;o++){const s=e[o],a=(0,t[s])(n[s],r);i[s]=a}return i}}({player:function(t,e){if(t||(t=v),!e)return t;const{type:n,data:r}=e;switch(n){case w.SPEED:return{...t,...r};default:return t}},progress:function(t,e){if(t||(t=b),!e)return t;const{type:n,data:r}=e;switch(n){case _.FORWARD:return{...t,frame:r.frame,curTime:r.curTime};case _.BACKWARD:return{...t,frame:r.frame};case _.INFO:return{...t,...r};default:return t}}}));const E=new class{constructor(){const t=document.createElement("iframe");t.style.display="none",t.style.visibility="hidden",document.body.appendChild(t),this.safeWindow=t.contentWindow}getObjByPath(t,e){var n=this.getMethodAtPath(t);let r=e;return n.forEach(t=>{r=r[t]}),r}getMethodAtPath(t){return t.split(".")}recoverMethod(t){const e=this.getObjByPath(t,window);if(!this.isNative(e)){const e=this.getObjByPath(t,this.safeWindow);this.recover(t,e)}}recover(t,e){const n=this.getMethodAtPath(t),[r,...i]=n.reverse();this.getObjByPath(i.reverse().join("."),window)[r]=e}isNative(t){var e=Object.prototype.toString,n=Function.prototype.toString,r=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),i=typeof t;return"function"==i?r.test(n.call(t)):t&&"object"==i&&/^\[object .+?Constructor\]$/.test(e.call(t))||!1}};E.recoverMethod("MutationObserver");const S=()=>window.__ReplayData__&&window.__ReplayData__.snapshot,A=()=>S()&&S().origin||location.origin,N=()=>A().match(/.*?\/\//)[0]||location.protocol;function B(t){return t.nodeType===Node.ELEMENT_NODE}function F(t){return/^\/(?!\/)/.test(t)}function O(t){return/^\/\//.test(t)}function T(t){const{proxy:e}=window.__ReplayOptions__;if(e){return D(e,t)}return t}function D(t,e){return t.endsWith("/")||e.startsWith("/")?t+e:t+"/"+e}function R(t){return t.replace(/(url\()['"]?((\/{1,2})[^'"]*?)['"]?(?=\))/g,(t,e,n)=>{let r="";return O(n)?r=D(N(),n.substring(2)):F(n)&&(r=D(A(),n.substring(1))),r?t.replace(n,r):t})}function L(t){if(t.startsWith("data"))return t;return t=t.replace(/^(\/{1,2}.*)/g,t=>O(t)?D(N(),t.substring(2)):F(t)?D(A(),t):t),/^http/.test(t)?t:t.startsWith("./")?D(A()+(S()&&S().pathname||location.pathname),t.substring(1)):D(A(),t)}function I(t){return t.ownerDocument&&!!t.ownerDocument.contains(t)}async function P(t){if(!t)return!1;if(t.length>500)return!1;const e=L(t);if(function(t){try{new URL(t)}catch(t){return!1}return!0}(e))try{return await z(e)}catch(t){return!1}return!1}async function z(t){return await fetch(t).then(async t=>(await t.text()).replace(/<\/script>/g,"<\\/script>"))}var M=n((function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)}));M.assign,M.shrinkBuf,M.setTyped,M.Buf8,M.Buf16,M.Buf32;function U(t){for(var e=t.length;--e>=0;)t[e]=0}var j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);U(V);var Z=new Array(60);U(Z);var K=new Array(512);U(K);var Y=new Array(256);U(Y);var J=new Array(29);U(J);var X,G,Q,$=new Array(30);function tt(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function et(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function nt(t){return t<256?K[t]:K[256+(t>>>7)]}function rt(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function it(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,rt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function ot(t,e,n){it(t,n[2*e],n[2*e+1])}function st(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function at(t,e,n){var r,i,o=new Array(16),s=0;for(r=1;r<=15;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=st(o[a]++,a))}}function ct(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function ht(t){t.bi_valid>8?rt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function lt(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function dt(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&lt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!lt(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function ut(t,e,n){var r,i,o,s,a=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===r?ot(t,i,e):(ot(t,(o=Y[i])+256+1,e),0!==(s=j[o])&&it(t,i-=J[o],s),ot(t,o=nt(--r),n),0!==(s=H[o])&&it(t,r-=$[o],s))}while(a<t.last_lit);ot(t,256,e)}function ft(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)dt(t,o,n);i=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],dt(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,dt(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,c=e.dyn_tree,h=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=c[2*c[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),c[2*r+1]=o,r>h||(t.bl_count[o]++,s=0,r>=f&&(s=u[r-f]),a=c[2*r],t.opt_len+=a*(o+s),d&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>h||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(t,e),at(o,h,t.bl_count)}function pt(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,h=4;for(0===s&&(c=138,h=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<h?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,h=3):i===s?(c=6,h=3):(c=7,h=4))}function mt(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,h=4;for(0===s&&(c=138,h=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<h)do{ot(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(ot(t,i,t.bl_tree),a--),ot(t,16,t.bl_tree),it(t,a-3,2)):a<=10?(ot(t,17,t.bl_tree),it(t,a-3,3)):(ot(t,18,t.bl_tree),it(t,a-11,7));a=0,o=i,0===s?(c=138,h=3):i===s?(c=6,h=3):(c=7,h=4)}}U($);var gt=!1;function yt(t,e,n,r){it(t,0+(r?1:0),3),function(t,e,n,r){ht(t),r&&(rt(t,n),rt(t,~n)),M.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}var vt={_tr_init:function(t){gt||(!function(){var t,e,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(J[r]=n,t=0;t<1<<j[r];t++)Y[n++]=r;for(Y[n-1]=r,i=0,r=0;r<16;r++)for($[r]=i,t=0;t<1<<H[r];t++)K[i++]=r;for(i>>=7;r<30;r++)for($[r]=i<<7,t=0;t<1<<H[r]-7;t++)K[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)V[2*t+1]=8,t++,o[8]++;for(;t<=255;)V[2*t+1]=9,t++,o[9]++;for(;t<=279;)V[2*t+1]=7,t++,o[7]++;for(;t<=287;)V[2*t+1]=8,t++,o[8]++;for(at(V,287,o),t=0;t<30;t++)Z[2*t+1]=5,Z[2*t]=st(t,5);X=new tt(V,j,257,286,15),G=new tt(Z,H,0,30,15),Q=new tt(new Array(0),q,0,19,7)}(),gt=!0),t.l_desc=new et(t.dyn_ltree,X),t.d_desc=new et(t.dyn_dtree,G),t.bl_desc=new et(t.bl_tree,Q),t.bi_buf=0,t.bi_valid=0,ct(t)},_tr_stored_block:yt,_tr_flush_block:function(t,e,n,r){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),ft(t,t.l_desc),ft(t,t.d_desc),s=function(t){var e;for(pt(t,t.dyn_ltree,t.l_desc.max_code),pt(t,t.dyn_dtree,t.d_desc.max_code),ft(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*W[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?yt(t,e,n,r):4===t.strategy||o===i?(it(t,2+(r?1:0),3),ut(t,V,Z)):(it(t,4+(r?1:0),3),function(t,e,n,r){var i;for(it(t,e-257,5),it(t,n-1,5),it(t,r-4,4),i=0;i<r;i++)it(t,t.bl_tree[2*W[i]+1],3);mt(t,t.dyn_ltree,e-1),mt(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ut(t,t.dyn_ltree,t.dyn_dtree)),ct(t),r&&ht(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Y[n]+256+1)]++,t.dyn_dtree[2*nt(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){it(t,2,3),ot(t,256,V),function(t){16===t.bi_valid?(rt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}};var wt=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};var bt=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var _t,kt=function(t,e,n,r){var i=bt,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},xt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Ct(t,e){return t.msg=xt[e],e}function Et(t){return(t<<1)-(t>4?9:0)}function St(t){for(var e=t.length;--e>=0;)t[e]=0}function At(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(M.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function Nt(t,e){vt._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,At(t.strm)}function Bt(t,e){t.pending_buf[t.pending++]=e}function Ft(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Ot(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,l=t.w_mask,d=t.prev,u=t.strstart+258,f=h[o+s-1],p=h[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(h[(n=e)+s]===p&&h[n+s-1]===f&&h[n]===h[o]&&h[++n]===h[o+1]){o+=2,n++;do{}while(h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&o<u);if(r=258-(u-o),o=u-258,r>s){if(t.match_start=e,s=r,r>=a)break;f=h[o+s-1],p=h[o+s]}}}while((e=d[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead}function Tt(t){var e,n,r,i,o,s,a,c,h,l,d=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-262)){M.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=d?r-d:0}while(--n);e=n=d;do{r=t.prev[--e],t.prev[e]=r>=d?r-d:0}while(--n);i+=d}if(0===t.strm.avail_in)break;if(s=t.strm,a=t.window,c=t.strstart+t.lookahead,h=i,l=void 0,(l=s.avail_in)>h&&(l=h),n=0===l?0:(s.avail_in-=l,M.arraySet(a,s.input,s.next_in,l,c),1===s.state.wrap?s.adler=wt(s.adler,a,l,c):2===s.state.wrap&&(s.adler=kt(s.adler,a,l,c)),s.next_in+=l,s.total_in+=l,l),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function Dt(t,e){for(var n,r;;){if(t.lookahead<262){if(Tt(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=Ot(t,n)),t.match_length>=3)if(r=vt._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=vt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2}function Rt(t,e){for(var n,r,i;;){if(t.lookahead<262){if(Tt(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=Ot(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=vt._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Nt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=vt._tr_tally(t,0,t.window[t.strstart-1]))&&Nt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=vt._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2}function Lt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(1146),this.dyn_dtree=new M.Buf16(122),this.bl_tree=new M.Buf16(78),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(16),this.heap=new M.Buf16(573),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(573),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,vt._tr_init(e),0):Ct(t,-2)}function zt(t){var e=Pt(t);return 0===e&&function(t){t.window_size=2*t.w_size,St(t.head),t.max_lazy_match=_t[t.level].max_lazy,t.good_match=_t[t.level].good_length,t.nice_match=_t[t.level].nice_length,t.max_chain_length=_t[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function Mt(t,e,n,r,i,o){if(!t)return-2;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||8!==n||r<8||r>15||e<0||e>9||o<0||o>4)return Ct(t,-2);8===r&&(r=9);var a=new It;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new M.Buf8(2*a.w_size),a.head=new M.Buf16(a.hash_size),a.prev=new M.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new M.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,zt(t)}_t=[new Lt(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Tt(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Nt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Nt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Nt(t,!1),t.strm.avail_out),1)})),new Lt(4,4,8,4,Dt),new Lt(4,5,16,8,Dt),new Lt(4,6,32,32,Dt),new Lt(4,4,16,16,Rt),new Lt(8,16,32,32,Rt),new Lt(8,16,128,128,Rt),new Lt(8,32,128,256,Rt),new Lt(32,128,258,1024,Rt),new Lt(32,258,258,4096,Rt)];var Ut={deflateInit:function(t,e){return Mt(t,e,8,15,8,0)},deflateInit2:Mt,deflateReset:zt,deflateResetKeep:Pt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},deflate:function(t,e){var n,r,i,o;if(!t||!t.state||e>5||e<0)return t?Ct(t,-2):-2;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return Ct(t,0===t.avail_out?-5:-2);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Bt(r,31),Bt(r,139),Bt(r,8),r.gzhead?(Bt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Bt(r,255&r.gzhead.time),Bt(r,r.gzhead.time>>8&255),Bt(r,r.gzhead.time>>16&255),Bt(r,r.gzhead.time>>24&255),Bt(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Bt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Bt(r,255&r.gzhead.extra.length),Bt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=kt(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Bt(r,0),Bt(r,0),Bt(r,0),Bt(r,0),Bt(r,0),Bt(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Bt(r,3),r.status=113);else{var s=8+(r.w_bits-8<<4)<<8;s|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=113,Ft(r,s),0!==r.strstart&&(Ft(r,t.adler>>>16),Ft(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),At(t),i=r.pending,r.pending!==r.pending_buf_size));)Bt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),At(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Bt(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),At(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Bt(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=kt(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&At(t),r.pending+2<=r.pending_buf_size&&(Bt(r,255&t.adler),Bt(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(At(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&Et(e)<=Et(n)&&4!==e)return Ct(t,-5);if(666===r.status&&0!==t.avail_in)return Ct(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var a=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(Tt(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=vt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=258){if(Tt(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=vt._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=vt._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2}(r,e):_t[r.level].func(r,e);if(3!==a&&4!==a||(r.status=666),1===a||3===a)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===a&&(1===e?vt._tr_align(r):5!==e&&(vt._tr_stored_block(r,0,0,!1),3===e&&(St(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),At(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Bt(r,255&t.adler),Bt(r,t.adler>>8&255),Bt(r,t.adler>>16&255),Bt(r,t.adler>>24&255),Bt(r,255&t.total_in),Bt(r,t.total_in>>8&255),Bt(r,t.total_in>>16&255),Bt(r,t.total_in>>24&255)):(Ft(r,t.adler>>>16),Ft(r,65535&t.adler)),At(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},deflateEnd:function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?Ct(t,-2):(t.state=null,113===e?Ct(t,-3):0):-2},deflateSetDictionary:function(t,e){var n,r,i,o,s,a,c,h,l=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=wt(t.adler,e,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(St(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new M.Buf8(n.w_size),M.arraySet(h,e,l-n.w_size,n.w_size,0),e=h,l=n.w_size),s=t.avail_in,a=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,Tt(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,Tt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,n.wrap=o,0},deflateInfo:"pako deflate (from Nodeca project)"},jt=!0,Ht=!0;try{String.fromCharCode.apply(null,[0])}catch(t){jt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ht=!1}for(var qt=new M.Buf8(256),Wt=0;Wt<256;Wt++)qt[Wt]=Wt>=252?6:Wt>=248?5:Wt>=240?4:Wt>=224?3:Wt>=192?2:1;qt[254]=qt[254]=1;function Vt(t,e){if(e<65534&&(t.subarray&&Ht||!t.subarray&&jt))return String.fromCharCode.apply(null,M.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var Zt=function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new M.Buf8(a),o=0,i=0;o<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},Kt=function(t){return Vt(t,t.length)},Yt=function(t){for(var e=new M.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},Jt=function(t,e){var n,r,i,o,s=e||t.length,a=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)a[r++]=i;else if((o=qt[i])>4)a[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return Vt(a,r)},Xt=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+qt[t[n]]>e?n:e};var Gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Qt=Object.prototype.toString;function $t(t){if(!(this instanceof $t))return new $t(t);this.options=M.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Ut.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(xt[n]);if(e.header&&Ut.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?Zt(e.dictionary):"[object ArrayBuffer]"===Qt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=Ut.deflateSetDictionary(this.strm,r)))throw new Error(xt[n]);this._dict_set=!0}}function te(t,e){var n=new $t(e);if(n.push(t,!0),n.err)throw n.msg||xt[n.err];return n.result}$t.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=Zt(t):"[object ArrayBuffer]"===Qt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new M.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=Ut.deflate(i,r))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(Kt(M.shrinkBuf(i.output,i.next_out))):this.onData(M.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=Ut.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),i.avail_out=0,!0)},$t.prototype.onData=function(t){this.chunks.push(t)},$t.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=M.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ee={Deflate:$t,deflate:te,deflateRaw:function(t,e){return(e=e||{}).raw=!0,te(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,te(t,e)}},ne=function(t,e){var n,r,i,o,s,a,c,h,l,d,u,f,p,m,g,y,v,w,b,_,k,x,C,E,S;n=t.state,r=t.next_in,E=t.input,i=r+(t.avail_in-5),o=t.next_out,S=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,h=n.wsize,l=n.whave,d=n.wnext,u=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),w=m[f&y];e:for(;;){if(f>>>=b=w>>>24,p-=b,0===(b=w>>>16&255))S[o++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=m[(65535&w)+(f&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&w,(b&=15)&&(p<b&&(f+=E[r++]<<p,p+=8),_+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),w=g[f&v];n:for(;;){if(f>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=g[(65535&w)+(f&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&w,p<(b&=15)&&(f+=E[r++]<<p,(p+=8)<b&&(f+=E[r++]<<p,p+=8)),(k+=f&(1<<b)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=b,p-=b,k>(b=o-s)){if((b=k-b)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=0,C=u,0===d){if(x+=h-b,b<_){_-=b;do{S[o++]=u[x++]}while(--b);x=o-k,C=S}}else if(d<b){if(x+=h+d-b,(b-=d)<_){_-=b;do{S[o++]=u[x++]}while(--b);if(x=0,d<_){_-=b=d;do{S[o++]=u[x++]}while(--b);x=o-k,C=S}}}else if(x+=d-b,b<_){_-=b;do{S[o++]=u[x++]}while(--b);x=o-k,C=S}for(;_>2;)S[o++]=C[x++],S[o++]=C[x++],S[o++]=C[x++],_-=3;_&&(S[o++]=C[x++],_>1&&(S[o++]=C[x++]))}else{x=o-k;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],_-=3}while(_>2);_&&(S[o++]=S[x++],_>1&&(S[o++]=S[x++]))}break}}break}}while(r<i&&o<a);r-=_=p>>3,f&=(1<<(p-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p},re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ie=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],se=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],ae=function(t,e,n,r,i,o,s,a){var c,h,l,d,u,f,p,m,g,y=a.bits,v=0,w=0,b=0,_=0,k=0,x=0,C=0,E=0,S=0,A=0,N=null,B=0,F=new M.Buf16(16),O=new M.Buf16(16),T=null,D=0;for(v=0;v<=15;v++)F[v]=0;for(w=0;w<r;w++)F[e[n+w]]++;for(k=y,_=15;_>=1&&0===F[_];_--);if(k>_&&(k=_),0===_)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(b=1;b<_&&0===F[b];b++);for(k<b&&(k=b),E=1,v=1;v<=15;v++)if(E<<=1,(E-=F[v])<0)return-1;if(E>0&&(0===t||1!==_))return-1;for(O[1]=0,v=1;v<15;v++)O[v+1]=O[v]+F[v];for(w=0;w<r;w++)0!==e[n+w]&&(s[O[e[n+w]]++]=w);if(0===t?(N=T=s,f=19):1===t?(N=re,B-=257,T=ie,D-=257,f=256):(N=oe,T=se,f=-1),A=0,w=0,v=b,u=o,x=k,C=0,l=-1,d=(S=1<<k)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){p=v-C,s[w]<f?(m=0,g=s[w]):s[w]>f?(m=T[D+s[w]],g=N[B+s[w]]):(m=96,g=0),c=1<<v-C,b=h=1<<x;do{i[u+(A>>C)+(h-=c)]=p<<24|m<<16|g|0}while(0!==h);for(c=1<<v-1;A&c;)c>>=1;if(0!==c?(A&=c-1,A+=c):A=0,w++,0==--F[v]){if(v===_)break;v=e[n+s[w]]}if(v>k&&(A&d)!==l){for(0===C&&(C=k),u+=b,E=1<<(x=v-C);x+C<_&&!((E-=F[x+C])<=0);)x++,E<<=1;if(S+=1<<x,1===t&&S>852||2===t&&S>592)return 1;i[l=A&d]=k<<24|x<<16|u-o|0}}return 0!==A&&(i[u+A]=v-C<<24|64<<16|0),a.bits=k,0};function ce(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function he(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new M.Buf16(320),this.work=new M.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function le(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new M.Buf32(852),e.distcode=e.distdyn=new M.Buf32(592),e.sane=1,e.back=-1,0):-2}function de(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,le(t)):-2}function ue(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,de(t))):-2}function fe(t,e){var n,r;return t?(r=new he,t.state=r,r.window=null,0!==(n=ue(t,e))&&(t.state=null),n):-2}var pe,me,ge=!0;function ye(t){if(ge){var e;for(pe=new M.Buf32(512),me=new M.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ae(1,t.lens,0,288,pe,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ae(2,t.lens,0,32,me,0,t.work,{bits:5}),ge=!1}t.lencode=pe,t.lenbits=9,t.distcode=me,t.distbits=5}function ve(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new M.Buf8(o.wsize)),r>=o.wsize?(M.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),M.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(M.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var we={inflateReset:de,inflateReset2:ue,inflateResetKeep:le,inflateInit:function(t){return fe(t,15)},inflateInit2:fe,inflate:function(t,e){var n,r,i,o,s,a,c,h,l,d,u,f,p,m,g,y,v,w,b,_,k,x,C,E,S=0,A=new M.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,h=n.hold,l=n.bits,d=a,u=c,x=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===h){n.check=0,A[0]=255&h,A[1]=h>>>8&255,n.check=kt(n.check,A,2,0),h=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&h)){t.msg="unknown compression method",n.mode=30;break}if(l-=4,k=8+(15&(h>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&h?10:12,h=0,l=0;break;case 2:for(;l<16;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(n.flags=h,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=kt(n.check,A,2,0)),h=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.head&&(n.head.time=h),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,n.check=kt(n.check,A,4,0)),h=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=kt(n.check,A,2,0)),h=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(A[0]=255&h,A[1]=h>>>8&255,n.check=kt(n.check,A,2,0)),h=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),M.arraySet(n.head.extra,r,o,f,k)),512&n.flags&&(n.check=kt(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&(n.check=kt(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&(n.check=kt(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}h=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}t.adler=n.check=ce(h),h=0,l=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=l,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){h>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}switch(n.last=1&h,l-=1,3&(h>>>=1)){case 0:n.mode=14;break;case 1:if(ye(n),n.mode=20,6===e){h>>>=2,l-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}h>>>=2,l-=2;break;case 14:for(h>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&h,h=0,l=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(f=n.length){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;M.arraySet(i,r,o,f,s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=12;break;case 17:for(;l<14;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(n.nlen=257+(31&h),h>>>=5,l-=5,n.ndist=1+(31&h),h>>>=5,l-=5,n.ncode=4+(15&h),h>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.lens[N[n.have++]]=7&h,h>>>=3,l-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},x=ae(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(S=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((g=S>>>24)<=l);){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(v<16)h>>>=g,l-=g,n.lens[n.have++]=v;else{if(16===v){for(E=g+2;l<E;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(h>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],f=3+(3&h),h>>>=2,l-=2}else if(17===v){for(E=g+3;l<E;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}l-=g,k=0,f=3+(7&(h>>>=g)),h>>>=3,l-=3}else{for(E=g+7;l<E;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}l-=g,k=0,f=11+(127&(h>>>=g)),h>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},x=ae(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},x=ae(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,x){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=l,ne(t,u),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,h=n.hold,l=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;y=(S=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((g=S>>>24)<=l);){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(y&&0==(240&y)){for(w=g,b=y,_=v;y=(S=n.lencode[_+((h&(1<<w+b)-1)>>w)])>>>16&255,v=65535&S,!(w+(g=S>>>24)<=l);){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}h>>>=w,l-=w,n.back+=w}if(h>>>=g,l-=g,n.back+=g,n.length=v,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=12;break}if(64&y){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(E=n.extra;l<E;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(S=n.distcode[h&(1<<n.distbits)-1])>>>16&255,v=65535&S,!((g=S>>>24)<=l);){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(0==(240&y)){for(w=g,b=y,_=v;y=(S=n.distcode[_+((h&(1<<w+b)-1)>>w)])>>>16&255,v=65535&S,!(w+(g=S>>>24)<=l);){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}h>>>=w,l-=w,n.back+=w}if(h>>>=g,l-=g,n.back+=g,64&y){t.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(E=n.extra;l<E;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===c)break t;if(f=u-c,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[s++]=m[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===c)break t;i[s++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===a)break t;a--,h|=r[o++]<<l,l+=8}if(u-=c,t.total_out+=u,n.total+=u,u&&(t.adler=n.check=n.flags?kt(n.check,i,u,s-u):wt(n.check,i,u,s-u)),u=c,(n.flags?h:ce(h))!==n.check){t.msg="incorrect data check",n.mode=30;break}h=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,h+=r[o++]<<l,l+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}h=0,l=0}n.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=h,n.bits=l,(n.wsize||u!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&ve(t,t.output,t.next_out,u-t.avail_out),d-=t.avail_in,u-=t.avail_out,t.total_in+=d,t.total_out+=u,n.total+=u,n.wrap&&u&&(t.adler=n.check=n.flags?kt(n.check,i,u,t.next_out-u):wt(n.check,i,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===u||4===e)&&0===x&&(x=-5),x},inflateEnd:function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},inflateGetHeader:function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},inflateSetDictionary:function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&wt(1,e,r,0)!==n.check?-3:ve(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},be={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var _e=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},ke=Object.prototype.toString;function xe(t){if(!(this instanceof xe))return new xe(t);this.options=M.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=we.inflateInit2(this.strm,e.windowBits);if(n!==be.Z_OK)throw new Error(xt[n]);if(this.header=new _e,we.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Zt(e.dictionary):"[object ArrayBuffer]"===ke.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=we.inflateSetDictionary(this.strm,e.dictionary))!==be.Z_OK))throw new Error(xt[n])}function Ce(t,e){var n=new xe(e);if(n.push(t,!0),n.err)throw n.msg||xt[n.err];return n.result}xe.prototype.push=function(t,e){var n,r,i,o,s,a=this.strm,c=this.options.chunkSize,h=this.options.dictionary,l=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?be.Z_FINISH:be.Z_NO_FLUSH,"string"==typeof t?a.input=Yt(t):"[object ArrayBuffer]"===ke.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new M.Buf8(c),a.next_out=0,a.avail_out=c),(n=we.inflate(a,be.Z_NO_FLUSH))===be.Z_NEED_DICT&&h&&(n=we.inflateSetDictionary(this.strm,h)),n===be.Z_BUF_ERROR&&!0===l&&(n=be.Z_OK,l=!1),n!==be.Z_STREAM_END&&n!==be.Z_OK)return this.onEnd(n),this.ended=!0,!1;a.next_out&&(0!==a.avail_out&&n!==be.Z_STREAM_END&&(0!==a.avail_in||r!==be.Z_FINISH&&r!==be.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Xt(a.output,a.next_out),o=a.next_out-i,s=Jt(a.output,i),a.next_out=o,a.avail_out=c-o,o&&M.arraySet(a.output,a.output,i,o,0),this.onData(s)):this.onData(M.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(l=!0)}while((a.avail_in>0||0===a.avail_out)&&n!==be.Z_STREAM_END);return n===be.Z_STREAM_END&&(r=be.Z_FINISH),r===be.Z_FINISH?(n=we.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===be.Z_OK):r!==be.Z_SYNC_FLUSH||(this.onEnd(be.Z_OK),a.avail_out=0,!0)},xe.prototype.onData=function(t){this.chunks.push(t)},xe.prototype.onEnd=function(t){t===be.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=M.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ee={Inflate:xe,inflate:Ce,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Ce(t,e)},ungzip:Ce},Se={};(0,M.assign)(Se,ee,Ee,be);var Ae=Se;function Ne(t,e){const n=function(t,{channelCount:e,sampleBits:n,sampleRate:r}){let i=new ArrayBuffer(44+t.byteLength);const o=new DataView(i);Be(o,0,"RIFF"),o.setUint32(4,36+2*t.byteLength,!0),Be(o,8,"WAVE"),Be(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,e,!0),o.setUint32(24,r,!0),o.setUint32(28,r*e*(n/8),!0),o.setUint16(32,e*(n/8),!0),o.setUint16(34,n,!0),Be(o,36,"data"),o.setUint32(40,t.byteLength,!0);let s=t.byteLength,a=44;for(let e=0;e<s;e++)o.setUint8(a,t.getUint8(e)),a++;return o}(function(t,e){const{sampleBits:n}=e,r=t.length*(e.sampleBits/8),i=new DataView(new ArrayBuffer(r));let o=0;if(8===n)for(let e=0;e<t.length;e++,o++){let n=Math.max(-1,Math.min(1,t[e])),r=n<0?128*n:127*n;r=+r+128,i.setInt8(o,r)}else for(let e=0;e<t.length;e++,o+=2){let n=Math.max(-1,Math.min(1,t[e]));i.setInt16(o,n<0?32768*n:32767*n,!0)}return i}(function(t){let e=t.length*t[0].length,n=new Float32Array(e),r=0;for(let e=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n}(t),e),e);return new Blob([n],{type:"audio/wav"})}function Be(t,e,n){for(var r=n.length,i=0;i<r;i++)t.setUint8(e+i,n.charCodeAt(i))}function Fe(t){const e=new Uint8Array(t.buffer);return btoa(String.fromCharCode.apply(null,e))}function Oe(t){const e=atob(t),n=e.length,r=new ArrayBuffer(n),i=new DataView(r);for(let t=0;t<n;t++)i.setUint8(t,e.charCodeAt(t));return new Float32Array(r)}const Te={extractAudioDataList:[],opts:{}};async function De(t){["HTMLElement.prototype.appendChild"].forEach(E.recoverMethod.bind(E)),await async function(){(await y).add({type:"NONE",data:null,time:s().toString()})}();const e=(new DOMParser).parseFromString('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="Content-Security-Policy-Report-Only" />\n    <title>TimeCat</title>\n</head>\n<body>\n</body>\n</html>\n',"text/html");await async function(t,e){const n=window.__ReplayDataList__||await async function(t){const e=await y;return function(t,e){return t.map(t=>(e&&e.audioExternal&&(t.audio=function(t){const e=t.bufferStrList.slice();if(!e.length)return t;const n=`TimeCat-audio-${a()}.wav`;return Te.extractAudioDataList.push({source:e,fileName:n}),Te.opts=t.opts,t.src=n,t.bufferStrList.length=0,t}(t.audio)),t))}(l(await e.readAllRecords()),t)}(e),r=JSON.stringify(n),i=Ae.gzip(r);let o="";for(let t=0;t<i.length;t++){let e=i[t];~[13,34,39,44,60,62,92,96,10,0].indexOf(e)&&(e+=300),o+=String.fromCharCode(e)}const s=`var __ReplayStrData__ =  '${o}'`;Re(t,[{src:"const loadingNode = document.createElement('div')\n    loadingNode.className = 'pacman-box';\n    loadingNode.innerHTML = '<style>.pacman-box{margin:0 auto;display:flex;vertical-align:middle;height:100vh;flex:0 1 auto;flex-direction:column;flex-grow:1;flex-shrink:0;flex-basis:25%;max-width:25%;align-items:center;justify-content:center}.pacman>div:first-of-type,.pacman>div:nth-child(2){width:0;height:0;border-right:25px solid transparent;border-top:25px solid grey;border-left:25px solid grey;border-bottom:25px solid grey;border-radius:25px;position:relative;left:-30px}@-webkit-keyframes rotate_pacman_half_up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate_pacman_half_up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes rotate_pacman_half_down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes rotate_pacman_half_down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}100%{-webkit-transform:translate(-100px,-6.25px);transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}100%{-webkit-transform:translate(-100px,-6.25px);transform:translate(-100px,-6.25px)}}.pacman{transform: translateX(30px);position:relative}.pacman>div:nth-child(3){-webkit-animation:pacman-balls 1s -.66s infinite linear;animation:pacman-balls 1s -.66s infinite linear}.pacman>div:nth-child(4){-webkit-animation:pacman-balls 1s -.33s infinite linear;animation:pacman-balls 1s -.33s infinite linear}.pacman>div:nth-child(5){-webkit-animation:pacman-balls 1s 0s infinite linear;animation:pacman-balls 1s 0s infinite linear}.pacman>div:first-of-type{-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.pacman>div:nth-child(2){-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}.pacman>div:nth-child(3),.pacman>div:nth-child(4),.pacman>div:nth-child(5),.pacman>div:nth-child(6){background-color:grey;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;-webkit-transform:translate(0,-6.25px);transform:translate(0,-6.25px);top:25px;left:70px}</style><div class=\"pacman\"><div></div><div></div><div></div><div></div><div></div></div>'\n    loadingNode.setAttribute('style', 'text-align: center;vertical-align: middle;line-height: 100vh;')\n    document.body.insertBefore(loadingNode, document.body.firstChild);window.addEventListener('DOMContentLoaded', () => loadingNode.parentNode.removeChild(loadingNode))"}]),Re(t,[{src:s}])}(e,t),await async function(t,e){const{scripts:n,autoplay:r}=e,i={autoplay:r},o=n||[];o.some(t=>"time-cat-init"===t.name)||o.push({name:"time-cat-init",src:`timecat.replay(${JSON.stringify(i)})`});await Re(t,o)}(e,t),function(t){e=t.documentElement.outerHTML,f(new Blob([e],{type:"text/html"}),`TimeCat-${a()}.html`),function(){if(window.__ReplayData__){const t=window.__ReplayData__;if(t.audio){const{src:e}=t.audio;return void f(e,e)}}Te.extractAudioDataList.forEach(t=>{f(Ne(t.source.map(t=>Oe(t)),Te.opts),t.fileName)}),Te.extractAudioDataList.length=0}();var e}(e)}async function Re(t,e){if(e)for(let n of e){const{src:e,name:r}=n;let i=e;const o=document.createElement("script");r&&(o.id=r),/^(chrome-extension|https?):\/\/.+/.test(e)&&(i=await z(e)),o.text=i,t.body.appendChild(o)}}const Le=new class{constructor(){this.interval=1e3,this.len=0,this.resolved=!1,this.listener=[],this.observe()}observe(){setTimeout(()=>{const t=performance.getEntriesByType("resource").filter(t=>this.isMatchType(t)).length;if(t<=this.len)return performance.clearResourceTimings(),this.resolved=!0,void(this.listener.length&&this.listener.forEach(t=>t()));this.len=t,this.observe()},this.interval)}isMatchType(t){switch(t.initiatorType){case"link":case"img":case"css":case"iframe":return!0}}ready(t){if(this.resolved)return t();this.listener.push(t)}},Ie=(t,e)=>B(t)?{id:m.createNodeId(),type:t.nodeType,attrs:Pe(t),tag:t.tagName.toLocaleLowerCase(),children:[],extra:ze(t,e)}:{id:m.createNodeId(),type:t.nodeType,value:t.textContent},Pe=t=>{const e={},n=t.attributes;return n&&n.length?Object.values(n).reduce((t,e)=>{const[n,r]=Me(e);return n&&(t[n]=r),t},e):e};function ze(t,e){const{tagName:n}=t,r={};if((e||"svg"===n.toLowerCase())&&(r.isSVG=!0),"INPUT"===n){const e={},{checked:n,value:i}=t;void 0!==i&&(e.value=i),void 0!==n&&(e.checked=n),Object.keys(e).length&&(r.props=e)}return r}const Me=t=>{let{name:e,value:n}=t;return("href"===e||"src"===e)&&n.startsWith("#/")?[]:[e,n]},Ue=(t,e)=>{const n=Ie(t,e),{id:r}=n;if(m.addNode(t,r),n.type===Node.ELEMENT_NODE){const r=n;e=e||r.extra.isSVG,t.childNodes.forEach(t=>{const n=Ue(t,e);n&&r.children.push(n)})}return n};function je(t,e,n){if(t.nodeType===Node.ELEMENT_NODE)if("style"!==e){if((!n||"string"!=typeof n||!/\.js$/.test(n))&&/^[\w\-\d]+$/.test(e)&&!/^on\w+$/.test(e)){if(null===n)return t.removeAttribute(e);if(n=String(n),"href"===e&&(n=L(String(n))),"background"!==e&&"src"!==e||n.startsWith("data:")||(n=T(L(String(n)))),"srcset"===e){const t=n.split(",");n=t.map(t=>T(L(t.trim()))).toString()}return n.startsWith("/")&&(n=L(n)),t.setAttribute(e,n)}}else if("string"==typeof n)t.style.cssText=R(n);else if(null!==n&&"object"==typeof n)for(const[e,r]of Object.entries(n))t.style[e]=r}function He(t,e){if(null==t)return null;const n=t;if(t.type===Node.COMMENT_NODE)return function(t){const{value:e,id:n}=t;let r;return r=document.createComment(e),m.updateNode(n,r),r}(n);if(t.type===Node.TEXT_NODE)return e&&"style"===e.tag&&(n.value=R(n.value)),function(t){const{value:e,id:n}=t;let r;return r=document.createTextNode(e),m.updateNode(n,r),r}(n);const r=t,i=qe(r);return(r.children&&r.children.length||i.childNodes&&i.childNodes.length)&&function(t,e){const n=[];t.children.slice().forEach(r=>{let i=n.pop();i=He(r,t),i&&(function(t){return!!t&&(t.nodeType===Node.COMMENT_NODE&&"hidden"===t.textContent)}(e.lastChild)&&je(i,"style","visibility: hidden"),e.appendChild(i))})}(r,i),i}function qe(t){const{id:e,extra:n}=t,{isSVG:r}=n;let i;const o={script:"noscript"}[s=t.tag]||s;var s;return i=r?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o),function(t,e){const{attrs:n}=t;for(const[t,r]of Object.entries(n))je(e,t,r);"a"===t.tag&&je(e,"target","_blank")}(t,i),function(t,e){const{props:n}=t.extra;if(n)for(let[t,r]of Object.entries(n))e[t]=r}(t,i),m.updateNode(e,i),i}var We,Ve,Ze;function Ke(t,e){t(e)}function Ye(e,n,r,i="throttle",o=500){let s;s="throttle"===i?k(n,o,{trailing:!0}):x(n,o,{isImmediate:!1}),e.map(t=>e=>{window.addEventListener(t,e,r)}).forEach(t=>t(s)),t.add(()=>{e.forEach(t=>{window.removeEventListener(t,s,r)})})}function Je(t,e){const n=new Set,r=new Map,i=new Set,o=new Set,a=[],c=new Set;function h(t,e){t.delete(e),e.childNodes.forEach(e=>{h(t,e)})}t.forEach(t=>{const{target:e,addedNodes:s,removedNodes:l,type:d,attributeName:u,oldValue:f}=t;switch(d){case"attributes":a.push({key:u,node:e,oldValue:f});break;case"characterData":c.add(e);break;case"childList":s.forEach(t=>function t(e,s){const a=m.getNodeId(e);if(a){if(s){i.add(e),r.delete(e);const t=m.getNodeId(s);t&&o.add(t+"@"+a)}}else n.add(e);e.childNodes.forEach(e=>t(e))}(t,e)),l.forEach(t=>function(t,e){if(!t)return;const s=m.getNodeId(t),a=m.getNodeId(t.parentNode);n.has(t)?(h(n,t),r.set(t,e)):i.has(t)&&o.has(a+"@"+s)?(h(i,t),o.delete(a+"@"+s)):r.set(t,e)}(t,e))}});const l=new Map;n.forEach(t=>{const e=((t,e=!1)=>{const n=Ie(t,e),{id:r}=n;return m.addNode(t,r),n})(t);l.set(t,e)});const d=[],f=new Map;n.forEach(t=>{const e=m.getNodeId(t.parentNode),n=f.get(e),r=n&&n.extra.isSVG;let i=l.get(t);r&&u(i)&&(i.extra.isSVG=!0),d.push({parentId:e,nextId:m.getNodeId(t.nextSibling)||null,node:i}),u(i)&&f.set(i.id,i)});const p=[];i.forEach(t=>{const e=m.getNodeId(t);p.push({parentId:m.getNodeId(t.parentNode),nextId:m.getNodeId(t.nextSibling)||null,id:e})});const g=[];r.forEach((t,e)=>{const n=m.getNodeId(e),r=m.getNodeId(t);r&&g.push({parentId:r,id:n})});const y=a.map(t=>{const{node:e,key:n,oldValue:r}=t;if(I(e)){const t=e.getAttribute(n);return r===t?null:{id:m.getNodeId(e),key:n,value:t}}}).filter(Boolean),v=[...c].map(t=>{if(I(t)&&t.parentNode)return{id:m.getNodeId(t),parentId:m.getNodeId(t.parentNode),value:t.textContent}}).filter(Boolean),w={addedNodes:d,movedNodes:p,removedNodes:g,attrs:y,texts:v};Object.values(w).some(t=>t.length)&&Ke(e,{type:We.DOM_UPDATE,data:w,time:s().toString()})}!function(t){t.WINDOW="WINDOW",t.SCROLL="SCROLL",t.MOUSE="MOUSE",t.DOM_UPDATE="DOM_UPDATE",t.FORM_EL_UPDATE="FORM_EL_UPDATE",t.AUDIO="AUDIO",t.NONE="NONE"}(We||(We={})),function(t){t.PROP="PROP",t.INPUT="INPUT",t.CHANGE="CHANGE",t.FOCUS="FOCUS",t.BLUR="BLUR"}(Ve||(Ve={})),function(t){t.MOVE="MOVE",t.CLICK="click"}(Ze||(Ze={}));const Xe={WindowRecord:function(t){function e(e){Ke(t,{type:We.WINDOW,data:{id:m.getNodeId(e)||null,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},time:s().toString()})}e(document),Ye(["resize"],(function(t){const{type:n,target:r}=t;"resize"===n&&e(r)}),{capture:!0})},ScrollRecord:function(t){const e=t=>t.scrollTop,n=t=>t.scrollLeft;function r(r){const i=r instanceof Document?document.documentElement:r;Ke(t,{type:We.SCROLL,data:{id:m.getNodeId(r)||null,top:e(i),left:n(i)},time:s().toString()})}r(document),Ye(["scroll"],(function(t){const{type:e,target:n}=t;"scroll"===e&&r(n)}),{capture:!0})},mouseWatcher:function(e){!function(){const n=k(t=>{Ke(e,{type:We.MOUSE,data:{type:Ze.MOVE,x:t.x,y:t.y},time:s().toString()})},300,{trailing:!0});document.addEventListener("mousemove",n),t.add(()=>{document.removeEventListener("mousemove",n)})}(),function(){const n=k(t=>{Ke(e,{type:We.MOUSE,data:{type:Ze.CLICK,id:m.getNodeId(t.target),x:t.x,y:t.y},time:s().toString()})},250);t.add(()=>{document.removeEventListener("click",n)}),document.addEventListener("click",n)}()},DOMRecord:function(e){const n=new MutationObserver(t=>Je(t,e));n.observe(document.documentElement,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),t.add(()=>n.disconnect())},FormElementRecord:function(e){!function(e){const n=["input","change","focus","blur"];function r(t){let n;switch(t.type){case"input":case"change":const e=t.target,r=e.value;let i="";const o=[];if(r===e.oldValue)return;r.length<=20||!e.oldValue?i=r:o.push(...p(e.oldValue,r)),n={type:We.FORM_EL_UPDATE,data:{type:Ve.INPUT,id:m.getNodeId(t.target),value:o.length?"":i,patches:o},time:s().toString()},e.oldValue=r;break;case"focus":n={type:We.FORM_EL_UPDATE,data:{type:Ve.FOCUS,id:m.getNodeId(t.target)},time:s().toString()};break;case"blur":n={type:We.FORM_EL_UPDATE,data:{type:Ve.BLUR,id:m.getNodeId(t.target)},time:s().toString()}}Ke(e,n)}n.map(t=>e=>{document.addEventListener(t,e,{once:!1,passive:!0,capture:!0})}).forEach(t=>t(r)),t.add(()=>{n.forEach(t=>{document.removeEventListener(t,r,!0)})})}(e),function(e){function n(t,n){const r={type:Ve.PROP,id:m.getNodeId(this),key:t,value:n};e({type:We.FORM_EL_UPDATE,data:r,time:s().toString()})}[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"]].map(e=>()=>{const[r,i]=e,o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(r,i,{set:function(t){setTimeout(()=>{n.call(this,i,t)}),o&&o.set&&o.set.call(this,t)}}),t.add(()=>{o&&Object.defineProperty(r,i,o)})}).concat([]).forEach(t=>t())}(e)}};let Ge=(()=>{class t{constructor(e=t.defaultRecordOptions){this.setOptions(e)}getOptions(){return this.opts}setOptions(e=t.defaultRecordOptions){this.opts={...this.opts,...e}}beginRecord(){this.audioContext=new window.AudioContext({sampleRate:this.opts.sampleRate}),this.mediaNode=this.audioContext.createMediaStreamSource(this.mediaStream);let t=this.audioContext.createScriptProcessor;this.processNode=t.call(this.audioContext,4096,this.opts.channelCount,this.opts.channelCount),this.processNode.connect(this.audioContext.destination),this.processNode.onaudioprocess=function(t){const e=t.inputBuffer.getChannelData(0).slice();if(this.onProgress){const t=[Fe(e)];this.onProgress(t)}}.bind(this),this.mediaNode.connect(this.processNode)}async initRecorder(){return new Promise((t,e)=>{window.navigator.mediaDevices.getUserMedia({audio:{sampleRate:this.opts.sampleRate,channelCount:this.opts.channelCount,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0,latency:0}}).then(e=>t(e)).catch(t=>e(t))})}async start(e=t.defaultRecordOptions){this.setOptions(e),this.mediaStream=await this.initRecorder(),this.beginRecord()}stop(){this.mediaStream&&this.mediaStream.getAudioTracks()[0].stop(),this.processNode&&this.processNode.disconnect(),this.mediaNode&&this.mediaNode.disconnect()}pause(){}resume(){}}return t.defaultRecordOptions={sampleBits:8,sampleRate:8e3,channelCount:1},t})();function Qe(e){const n=new Ge({sampleBits:8,sampleRate:8e3,channelCount:1});n.start(),t.add(()=>{n.stop()}),e({type:We.AUDIO,data:{type:"opts",data:n.getOptions()},time:s().toString()}),n.onProgress=t=>{e({type:We.AUDIO,data:{type:"base64",data:t},time:s().toString()})}}const $e={getInitInfo:function(){const{name:t,publicId:e,systemId:n}=window.document.doctype;return{doctype:{name:t,publicId:e,systemId:n},origin:window.location.origin,pathname:window.location.pathname,scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},DOMSnapshot:function(){return{vNode:Ue(document.documentElement)}}},tn={unsubscribe:()=>{Array.from(t.values()).forEach(t=>t())}};function en(t){const{getInitInfo:e,DOMSnapshot:n}=$e;t({...e(),...n()})}const nn=t=>(y.then(e=>{e.clear(),function(t){const e=[en,...Object.values(Xe)];if(t){const{audio:n}=t;n&&e.push(Qe)}return e}(t).forEach(n=>n(n=>{t&&t.emitter?t.emitter(n,e):e.add(n)}))}),tn);class rn{constructor(){this.init()}getSnapshot(){return window.__ReplayData__.snapshot}init(){this.initTemplate(),this.initSandbox();const{resize:t}=this.makeItResponsive(this.container);this.resize=t}initSandbox(){this.sandBox=this.container.querySelector("#cat-sandbox"),this.sandBoxDoc=this.sandBox.contentDocument,this.sandBoxDoc.open();const t=this.getSnapshot().doctype,e=`<!DOCTYPE ${t.name} ${t.publicId?'PUBLIC "'+t.publicId+'"':""} ${t.systemId?'"'+t.systemId+'"':""}><html><head></head><body></body></html>`;this.sandBoxDoc.write(e),this.sandBoxDoc.close(),function(t){var e={37:1,38:1,39:1,40:1};function n(t){t.preventDefault()}function r(t){if(e[t.keyCode])return n(t),!1}var i=!1;try{t.addEventListener("test",()=>{},Object.defineProperty({},"passive",{get:function(){i=!0}}))}catch(t){}var o=!!i&&{passive:!1},s="onwheel"in document.createElement("div")?"wheel":"mousewheel";t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener(s,n,o),t.addEventListener("touchmove",n,o),t.addEventListener("keydown",r,!1)}(this.sandBox.contentWindow),this.setViewState()}setViewState(){m.reset();const t=He(this.getSnapshot().vNode);if(t){const[e]=t.getElementsByTagName("head");e&&e.insertBefore(this.createStyle("cat-css-fix",'export default "html {\\n  /* scroll-behavior: smooth; */ }\\n\\ninput[type=\\"checkbox\\"] {\\n  pointer-events: none; }\\n\\na,\\ninput:focus,\\ntextarea:focus {\\n  outline: none; }\\n"'),e.firstChild);const n=this.sandBoxDoc.documentElement;t.scrollLeft=this.getSnapshot().scrollLeft,t.scrollTop=this.getSnapshot().scrollTop,this.sandBoxDoc.replaceChild(t,n)}}initTemplate(){document.head.append(this.createStyle("cat-css",'body {\n  margin: 0;\n  background-color: #f6f6f6; }\n\n#cat-main {\n  box-shadow: 0 2px 3px rgba(26, 26, 26, 0.1);\n  transition: all 500ms ease-in-out;\n  -webkit-transition: all 500ms ease-in-out;\n  transform-origin: top left;\n  -webkit-transform-origin: top left;\n  opacity: 0;\n  position: relative;\n  overflow: visible; }\n\n#cat-sandbox {\n  background: white;\n  vertical-align: top;\n  border: 0;\n  width: 100%;\n  height: 100%; }\n\n#cat-player {\n  position: relative;\n  width: inherit;\n  height: inherit; }\n\n#cat-pointer {\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  transition: all .2s; }\n  #cat-pointer img {\n    width: 15px;\n    position: absolute;\n    z-index: 100;\n    top: -5px;\n    left: -3px; }\n  #cat-pointer .loading {\n    display: flex;\n    animation-delay: 1s; }\n\n#cat-pointer .dot {\n  position: relative;\n  width: 2em;\n  height: 2em;\n  margin: 0.8em;\n  border-radius: 50%; }\n\n#cat-pointer[active] .dot {\n  width: 1px;\n  height: 1px;\n  border-radius: 50%;\n  position: absolute;\n  background: #4682b4;\n  top: -10px;\n  left: -10px; }\n\n#cat-pointer[active] .dot::before {\n  position: absolute;\n  content: "";\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border-radius: inherit;\n  animation: wave .45s ease-out infinite; }\n\n@keyframes wave {\n  40%,\n  75% {\n    transform: scale(30); }\n  80%,\n  100% {\n    opacity: 0; } }\n\n#cat-container {\n  background: grey; }\n\n#cat-panel {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px;\n  height: 40px;\n  position: absolute;\n  left: 0;\n  bottom: -41px;\n  background: #535253;\n  opacity: 0.9;\n  display: flex; }\n\n.cat-broadcaster {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  bottom: 50px;\n  display: flex;\n  justify-content: center; }\n  .cat-broadcaster .float-layer {\n    margin: 0 10px;\n    line-height: 20px;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.6);\n    border-radius: 2px;\n    padding: 5px;\n    box-shadow: 0px 0px 2px rgba(26, 26, 26, 0.5);\n    text-align: center; }\n    .cat-broadcaster .float-layer[hidden] {\n      display: none; }\n\n.cat-keyboard {\n  height: 20px;\n  white-space: nowrap; }\n  .cat-keyboard button[disabled] {\n    cursor: default;\n    color: #999; }\n\n.cat-export button,\n.cat-keyboard button {\n  border: none;\n  background: none;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 13px;\n  padding: 0 5px; }\n  .cat-export button.play-or-pause,\n  .cat-keyboard button.play-or-pause {\n    padding: 0;\n    text-indent: 1px;\n    transform: rotate(90deg);\n    width: 18px; }\n\n.cat-export,\n.cat-progress,\n.cat-keyboard,\n.cat-timer {\n  display: flex;\n  align-items: center; }\n\n.cat-timer {\n  margin-left: 2px; }\n  .cat-timer time {\n    margin-top: 1px;\n    padding: 0 4px;\n    color: white;\n    font-size: 12px;\n    font-family: Helvetica;\n    vertical-align: middle; }\n\n.cat-export button {\n  padding: 0;\n  padding-left: 2px; }\n\n.cat-progress {\n  width: 100%;\n  height: 20px; }\n\n.cat-slider-bar {\n  position: relative;\n  padding: 0 5px;\n  width: calc(100% - 20px);\n  height: 5px;\n  margin: 7.5px 8px;\n  background: white;\n  border-radius: 2.5px; }\n\n.cat-thumb {\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 1px solid white;\n  background: black;\n  border-radius: 100%;\n  cursor: pointer;\n  position: absolute;\n  font-smoothing: antialiased;\n  right: 0px;\n  transform: translate3d(5px, -4px, 0);\n  z-index: 10; }\n\n.cat-current-progress {\n  background: #aaa;\n  border-radius: 2.5px;\n  position: absolute;\n  left: 0;\n  width: 0;\n  height: 5px;\n  transition-property: width;\n  transition-timing-function: linear;\n  transition-duration: 0s; }\n  .cat-current-progress.active {\n    width: 100% !important; }\n\n#cat-start-page {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: calc(100% + 42px);\n  -webkit-backdrop-filter: blur(1.5px);\n  backdrop-filter: blur(1.5px);\n  transition: .5s all;\n  cursor: pointer; }\n  #cat-start-page .play-btn {\n    position: absolute;\n    margin: auto;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 100px;\n    height: 100px;\n    transition: all .5s;\n    transform: scale(0);\n    opacity: 0; }\n    #cat-start-page .play-btn.show {\n      transform: scale(1);\n      opacity: 1; }\n')),document.body.append(this.createContainer("cat-main",'<div id="cat-container">\n    <div id="cat-player">\n        <iframe id="cat-sandbox" sandbox="allow-same-origin allow-scripts allow-popups"></iframe>\n    </div>\n    <div id="cat-panel">\n\n        <div class="cat-broadcaster">\n            <div class="float-layer" hidden>\n                <span class="subtitle"></span>\n            </div>\n        </div>\n\n        <div class="cat-keyboard">\n            <button class="play-or-pause" type="button" speed="1">▲</button>\n            <button type="button" class="speed" disabled speed="1">1x</button>\n            <button type="button" class="speed" speed="10">10x</button>\n            <button type="button" class="speed" speed="100">100x</button>\n        </div>\n        <div class="cat-timer">\n            <time>\n                00:00\n            </time>\n        </div>\n        <div class="cat-progress">\n            <div class="cat-slider-bar">\n                <div class="cat-current-progress">\n                    <div class="cat-thumb"></div>\n                </div>\n            </div>\n        </div>\n        <div class="cat-export">\n            <button type="button">\n                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n                    y="0px" width="16px" height="15px" viewBox="0 0 511.994 511.994"\n                    style="enable-background:new 0 0 511.994 511.994;" xml:space="preserve">\n                    <path style="fill:#fff;" d="M403.079,310.458c-3.627-7.232-11.008-11.797-19.093-11.797h-64v-85.333c0-11.776-9.536-21.333-21.333-21.333H213.32\n\t\t\tc-11.776,0-21.333,9.557-21.333,21.333v85.333h-64c-8.064,0-15.445,4.565-19.072,11.797c-3.605,7.232-2.837,15.872,2.027,22.336\n\t\t\tl128,170.667c4.011,5.376,10.347,8.533,17.045,8.533c6.72,0,13.056-3.157,17.067-8.533l128-170.667\n            C405.917,326.33,406.685,317.69,403.079,310.458z" />\n                    <path style="fill:#fff;" d="M298.663,128.001H213.33c-11.797,0-21.333,9.536-21.333,21.333c0,11.797,9.536,21.333,21.333,21.333h85.333\n                        c11.797,0,21.333-9.536,21.333-21.333C319.996,137.537,310.46,128.001,298.663,128.001z" />\n                    <path style="fill:#fff;" d="M298.663,64.001H213.33c-11.797,0-21.333,9.536-21.333,21.333s9.536,21.333,21.333,21.333h85.333\n                        c11.797,0,21.333-9.536,21.333-21.333S310.46,64.001,298.663,64.001z" />\n                </svg>\n\n            </button>\n        </div>\n    </div>\n    <div id="cat-start-page" style="display: none;">\n        <div class="play-btn">\n            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                x="0px" y="0px" viewBox="0 0 142.448 142.448" style="enable-background:new 0 0 142.448 142.448;"\n                xml:space="preserve">\n                <g>\n                    <path style="fill:#bbb;" d="M142.411,68.9C141.216,31.48,110.968,1.233,73.549,0.038c-20.361-0.646-39.41,7.104-53.488,21.639\n\t\tC6.527,35.65-0.584,54.071,0.038,73.549c1.194,37.419,31.442,67.667,68.861,68.861c0.779,0.025,1.551,0.037,2.325,0.037\n\t\tc19.454,0,37.624-7.698,51.163-21.676C135.921,106.799,143.033,88.377,142.411,68.9z M111.613,110.336\n\t\tc-10.688,11.035-25.032,17.112-40.389,17.112c-0.614,0-1.228-0.01-1.847-0.029c-29.532-0.943-53.404-24.815-54.348-54.348\n\t\tc-0.491-15.382,5.122-29.928,15.806-40.958c10.688-11.035,25.032-17.112,40.389-17.112c0.614,0,1.228,0.01,1.847,0.029\n\t\tc29.532,0.943,53.404,24.815,54.348,54.348C127.91,84.76,122.296,99.306,111.613,110.336z" />\n                    <path style="fill:#bbb;" d="M94.585,67.086L63.001,44.44c-3.369-2.416-8.059-0.008-8.059,4.138v45.293\n\t\tc0,4.146,4.69,6.554,8.059,4.138l31.583-22.647C97.418,73.331,97.418,69.118,94.585,67.086z" />\n                </g>\n            </svg>\n        </div>\n    </div>\n    <div id="cat-pointer">\n        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAACACAQAAAAhBLbAAAAMkklEQVR42u2ceXAb5RXAfyvJh2xLcqw4dmQ7thPbOSGEOLJbjtIUBgi0wxSmMNNSoDTQMrRAIIUm8E+HuwfD0OkwPZgGUmiBNswUmvhIoBkIsS0DCTShSYAcxHYS27ItW7e0/UOr9a7sla3Tnqnfjjz77fft6uent+977+0BczInczInczInWRYBQf47a0RIqE+cadypoAXpI6KTgMXZgq2LiyyWFK4wEyIHPTp0s81MJkLrMEBx7WdtVzUAJozkYkA3m7EF9OSAYB4LiM6aYqCEQvJmN7YOPXkIwvxTvaJ4+COzBVhAEfnkzF5sAQNGcgTbqV5RFMXDn5hLgXJMsxdbQEcOheQL1af6RFEURfHTQ2YbAgsV2DMGrovTF0GX0JYu73rbXMkZishBj34mda0NLUgeRIZraHDsNlfJ2DOoa13cXkHdX1/vaLcs4ixF5Eh+ZEawp4KOwaqv69o989i6RHeoX9zVVlzDuZnEngp6EqD6JZ0tJTWytvXZx57KPCaV+iUdLdZaCVuffeyEzSMidYs7W621KgeYRfAEoN+lQ9FaXOtosy6O8dtZwk4A+gDNnFK0a2q62+cvmYnpJgFoG7CWHsWW6mpH+/y67E83Cdr0ORr5Uom9qLu9tI4zmLLpABM+EXu5BKeivajK0V7aQF82HWAS3uM4zTHYXa1lS2M8yWyDhiM0MaBoV1d1tpRHsHOzgZ2knz4ag72oqqvVtow+CrPht5OEhs+wq7ArK7tabcsl286w304aGj6nUYVtq3C02ZbThynT2ClAw3HW0q9oL7Q5dttW0Kuw7YxIStBwgkY1dnn3bttKFXYGwFOEhhOs45yiXV7W3VZxHr0UZg47ZWg4jp0zSuxyR2tlFDsj000aoOE4TfSpsLtaFp1Pb6amm7RAwwma6FVhd7ZUr6ZHZSRpA08TNJzErsIuK+9qrblAZdtpc4Bpg4YvaVRhly5wRLCL0o2dRmjoYa0K21rqaK9ZQw9F8imZFuy0QkNvTJpgtXa3166RTklDuqabNENDL40q7JKSfW/aooFrmhxg2qEj2MrsptzmaLXVpxM7A9DQi52TivbCqq7WijRiZwQaemnihKJtq+psrWpIV50kQ9DQh53jauyWRersJmlPkjFoOMs6FXZ5VVdL9bJ0YGcQGvpjsBdUOlqql9GXqt/OKDT006jCnl/haK1eoSo4JCEZhoaBWGybo616ZWp1koxDR7A/V2KXd7fVpISdBWgYwM5nira1zNFauyp57KxAwwBNHFVil3e1LF6likkSAM8SdAT7iAq7s6Xu/JhQaprYWYMGJ3b+G4Ndf0Ey5Z0sQsMwdpW255V17WpYLaUJCWg7q9AwwjoVtmVBZ0vDGnql+vY0/XaWoSPYSiOxlHa1NkSym2l7kqxDwwh2PlW0zdautoYLYzzJbIOOYB9SYpd0tSy9UJFLTnE/yYxAg4tmlZGYrZ0tyxvpoVBx7UYTfIagwcVlqgt8ZmvHrhWNKtvW9CQzBh1JE5TZjcna0bLKTg+mqRzgDEJPzG6KSjp2ntfEabl0qZsce0ahJ2Y3BSX7d53XLJ+SGrY9w9DQTy1tSuzijl3nNXMaE3laoZQhk0DzuZ1RgnHH5HCQ3Vyh2GK0dLTYr/pkPzZAIEgImMZdrgI6cjFhEVadOidK8g+RhJducToSFsMxW9zD538VgSrmUUBu7ISTYfO4Z1qjJpqt0dyxc/VXOCUVinXqUzLD0O/y1yT3zDd37FzTzJcUTLx1MU3QC5iv0fN40sfMM3/wzqVX0DPxtty0QFs5zcMafR/zvKIVCA6PESYkLWHVElIsQYIEyHvnxSY7ThlZAk+D97DSgYFbeJyzGrr+AbnSeo7h7pe2d9ZaQ34hRGjSu99FREJCEJ/gDYzUlrgMFEojhOjIlKEr2UcVUMxmNk864hS/YovcunXd9te/OEsQPwFChCdxZWFEQvjx4fnShQEjY+oBKZpHDR9SJa1volZj1NOKq7rfWHXLFZxDT5gQAfyTLAHJN+vJw4SAT/rX5H8vJeilOBQnoI6tGuOGeUrRevg6vZEBxhhhGCdOBlXLAIMM4mSYEUZx4yNISAIWU4a+kANYVVtuZ43G2GcVxZq6mnuv5CQB3LhwMRyzjEh/RxhlDA8+goTVZpQ09FreJ2/CVi1dB1S63nKzpRInIfx48eDGzZhicePGjQcPXvwECMinbGrQ63HIHkEp1/N1jT3+wEfyeknpz79DPzpEQgQJ4JvUtqPA4VibnlymiD3WxwYPofHgoU0zDrlBGVuMVl5COZUUY5SfolEvkZvOhcmivCQ0fQO7VW2X52vPvSMX6i7nOo39Xudted1YuOU23KonZ0RE1VQT3SaqTSMpTd8Yo2SPr+kxLrrl9+NbHJq6Vv1CwVVXMp9KisnHkFjdNAFNh4GbYwKgMW/jIx3vUb+ttVtOrtdym8YR9rBjvKHfupEQuXL2nYAkAH2CDbwYg2zf+p9uivFw5rG/jW/fqnkMZfh00/UXrcdJPoZEnwtLAPqWGC33j6y+/1A3ZgYZJG/Hzrf3R3uWcJ/GMRz8WdHaupEcDIk/E5YAtBWTonV2aO2mzw5ixomTIdw4H31pvHezaqxa12F5/eorr9lAP/lZqk/3Ou2bTx7FgpMhaRYr2tP299Zo/0Ie0NjzKM8qWg/fiQVBkZ1kDvrT3lU/PXEEE06GGMGFCxceAk+8MD7mfio19n4Sl7ze3Pz96+jHKD8PlqlS7+Ee+/2DpyjCKcUHkSl3DFP3vj+9Fh1VyM809j/LLxWth35MGSFypCkmM5o+cNL+gKuHIobkkMaPDx9ePBge3xb0R0f+hGUax/i14o6Q5SvuuokBjHK1NOUrARNmon1H19w32kchgxKyV4p/A/jxUvj5h79RnI5ars/NE4rWljsKa/FLdp0WTauw3zty8YPiEEacjOBiDC8BOasL4MdDwVMvj8h3hH+PJo3D/pbD8npF9aabccoxSHqvBLR+fPED4hB5kpbdeKUcIxI1RAJN4+DhJ7eN7/OI5tGU08yDd5Stwj39m2qn1rSk6ze7r7yX0QnIYTmyCBHEzxjFz7x6Ur6t5hqu0jjwduS5iMKSh27FRf50dT2VTUvIb+3/5j2EMDAg23IUOWJCYcJSZKz3nnhCoWvtKf0XivW7f7jYjkua0qd0fdrQ0o8u6OC1f117B2H0OHFJeZtfoWWkT8Su3cx7fscB+UrQxdyo8QU72SuvG/Ie2YhPCp+SvKEi+oytUVcnhvbuYSGruZg1NFCJlaJJHsUWENCTjwUbK6m86YHxGPTgpGHqInGb6FcFues2YKECM3lTXeHSa0ALkWm1oko/dPtDfiMFuKRpJJIdT6xXRGtAOgTMnxxZ31gtTYllnMGhGlrMs2xndcyXl1te2YFRSmOTEh0G8jHryvT5LGQZS1hEGfOkCwuT6UFAwEAeFhayjMrL7xzX4UkxR9Zwrvj4hMJuVL61ESOlFJEbP+rTa/YICAhiWMxHj09a/HINQpx0j+hHh+Xzo6uXLV8S6bDg4V0ANrGL9Ro8b+35S+vAgFRGn2aKFQsQ0XUhZoopxkyR5P7jWZuAnjzMlLGU6nXfHddhj2gWrxXPiVryxvv1G6mmgWUswCSV0eN8TRw9S5YdeWGGSAiRMPFSeQHQk0M+JiwMv/DMbd+OdIi4KNJwVTsP3P/y4b2EyWeYYUbxECAYT9dC3O1RnymCyr3FO1rkLQoFmAk3rDz8mi43znj+fWjTqx/sJUyBVG8aw42PgORONUQf54hK2OghprK0cR+iwzTwxbzS5gu0hnYdu+F3jz7f+wUmRCmWic4AU5QN4rtxde/0Tg1B1rUJYX7Nsdct5omDjpy+65Xd7fgw4WcMD268ePEpCsBxvi2eppOTqK4FdJjcJwxF62NCvb7Bjdt+9OwXBylEh0vKfNyylievWSeg6WSxIx7biAlDvvXYqxUV0a5R95Ydz73BGcyEGcONF49UyQvKwFPW7dKvabW/Lgie9uVuuBQgFHjynxuefr8dHfmMMoJLSta8Ch0zNXKmHr6LRCK5GCkil5xjbyyp++POza8MHcOMgTE8qkJuQK7eTfP9Q5mD1mEglwLM+K6+LGBpb8OKCQ9eCdhHQEoiEgLOJHT0VT15GLEwgoEKkDLJqDkEkgHOHHTkyDoJO488cqUSekACDsrF8iReSZXJuxBEwgSBMEG8CCBd1EwJOBvQkRk1KIUdkeuyKQFDZl+5EH3/23iqKsakaCkcOJMiKD7KEy6lF6tl/s0Fsd8wK94DNydzMif/n/I/5OjlEWH8JT8AAAAASUVORK5CYII="\n            alt="pointer">\n        <div class="loading">\n            <div class="dot"></div>\n        </div>\n    </div>\n</div>\n\x3c!--env--\x3e\n\x3c!-- Global site tag (gtag.js) - Google Analytics --\x3e\n<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151180797-1"><\/script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    gtag(\'js\', new Date());\n    gtag(\'config\', \'UA-151180797-1\');\n<\/script>\n\x3c!--env--\x3e\n'))}createContainer(t,e){const n=(new DOMParser).parseFromString(e,"text/html").body.firstChild;return n.id=t,n.style.width=this.getSnapshot().width+"px",n.style.height=this.getSnapshot().height+"px",n.style.display="none",this.container=n}makeItResponsive(t){const e=x(r,500);function n(t,e){r({target:window},t,e)}function r(e,n,r){if(e&&e.target instanceof Window){const{innerWidth:i,innerHeight:o}=e.target;!function(t,e,n,r,i){const{width:o,height:s}=function(t){return{width:parseInt(t.style.width),height:parseInt(t.style.height)}}(t),a=e/(r||o),c=n-n/(i||s)*40,h=c/(i||s),l=a>h?h:a,d=l>1?1:l,u=Math.abs(Math.floor(((r||o)*d-e)/2)),f=Math.abs(Math.floor(((i||s)*d-c)/2));t.style.transform="scale("+d+")",t.style.left=u+"px",t.style.top=f+"px",r&&(t.style.width=r+"px");i&&(t.style.height=i+"px")}(t,i,o,n,r)}}return window.addEventListener("resize",e.bind(this)),n(),setTimeout(()=>this.container.style.opacity="1"),this.container.style.display="block",{resize:n}}createStyle(t,e){const n=document.createElement("style");return n.id=t,n.innerHTML=e,n}}class on{constructor(t){this.c=t,this.init()}init(){this.controller=this.c.container.querySelector(".cat-keyboard"),this.playOrPauseBtn=this.c.container.querySelector(".play-or-pause"),this.exportBtn=this.c.container.querySelector(".cat-export"),this.exportBtn.addEventListener("click",this.export),this.controller.addEventListener("click",t=>{if(t.target&&"button"===t.target.type){const e=Number(t.target.getAttribute("speed"));this.dispatchPlay(e)}}),C.subscribe("player",t=>{this.paly(t.speed),this.setSpeed(t.speed)}),this.detectWindowIsActive()}dispatchPlay(t=0){C.dispatch({type:w.SPEED,data:{speed:t}})}detectWindowIsActive(){document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.dispatchPlay()},!1)}paly(t){0!==t?(this.playOrPauseBtn.innerText="〓",this.playOrPauseBtn.setAttribute("style","letter-spacing: 1px;font-weight: bold;"),this.playOrPauseBtn.removeAttribute("speed")):(this.playOrPauseBtn.innerText="▲",this.playOrPauseBtn.removeAttribute("style"),this.playOrPauseBtn.setAttribute("speed","1"))}setSpeed(t){const e=this.c.container.querySelectorAll(".speed");[...e].forEach(t=>{t.removeAttribute("disabled")});const n=function(t){switch(t){case 100:return 2;case 10:return 1;case 1:default:return 0}}(t);n>-1&&e[n].setAttribute("disabled","")}async export(){const t=document.getElementById("time-cat"),e=document.getElementById("time-cat-init"),n=[];async function r(t){return t.textContent||await P(t.src.trim())||t.src}if(t){const e=await r(t);n.push({name:"time-cat",src:e})}if(e){const t=await r(e);n.push({name:"time-cat-init",src:t})}De({...window.__ReplayOptions__,scripts:n})}}function sn(t,e){const{parentId:n,nextId:r,node:i}=t,o=m.getNode(n);if(!o||!B(o))return"revert";{let t=null;if(r){if(e.has(r))return"revert";if(t=function(t){return t?m.getNode(t):null}(r),!t)return"revert"}const n=i;let s;"number"==typeof i?(s=m.getNode(i),e.has(i)&&e.delete(i)):s=u(n)?qe(n):function(t){const{type:e,value:n,id:r}=t;let i;switch(e){case Node.TEXT_NODE:i=document.createTextNode(n);break;case Node.COMMENT_NODE:i=document.createComment(n)}return m.updateNode(r,i),i}(n),o.insertBefore(s,t)}}async function an(t){const{type:e,data:n}=t;switch(e){case We.SCROLL:{const{top:t,left:e,id:r}=n;let i=r?m.getNode(r):this.c.sandBoxDoc.documentElement;const o=i.scrollTop,s=Math.abs(t-o)>3*window.__ReplayData__.snapshot.height?"auto":"smooth";i.scrollTo({top:t,left:e,behavior:s});break}case We.WINDOW:{const{width:t,height:e,id:r}=n;let i;r?(i=m.getNode(r),i.style.width=t+"px",i.style.height=e+"px"):(i=this.c.sandBoxDoc.body,this.c.resize(t,e));break}case We.MOUSE:const{x:t,y:e,type:i}=n;i===Ze.MOVE?this.pointer.move(t,e):i===Ze.CLICK&&this.pointer.click(t,e);break;case We.DOM_UPDATE:await d(200);const{addedNodes:o,movedNodes:s,removedNodes:a,attrs:c,texts:h}=n;a.forEach(t=>{const{parentId:e,id:n}=t,r=m.getNode(e),i=m.getNode(n);i&&r&&r.contains(i)&&r.removeChild(i)});const l=s.slice(),u=new Set;l.forEach(t=>{t.nextId&&l.some(e=>e.id===t.nextId)&&u.add(t.nextId)});const f=l.map(t=>{const{id:e,parentId:n,nextId:r}=t;return{node:e,parentId:n,nextId:r}}).concat(o.slice()),p=f.length,g=p>0?(p*p+p)/2:0;let y=0;for(;f.length;){const t=f.shift();if(t){"revert"===sn(t,u)&&y++<g&&f.push(t)}}c.forEach(t=>{const{id:e,key:n,value:r}=t,i=m.getNode(e);i&&je(i,n,r)}),h.forEach(t=>{const{id:e,value:n,parentId:r}=t,i=m.getNode(r),o=m.getNode(e);if(i&&o){if(I(o))return void(o.textContent=n);i.innerText=n}});break;case We.FORM_EL_UPDATE:await d(200);const{id:v,key:w,type:b,value:_,patches:k}=n,x=m.getNode(v);if(x)if(b===Ve.INPUT){if(_)x.value=_;else if(k&&k.length){const t=(r=x.value,k.forEach(t=>{const{type:e,value:n,len:i}=t;switch(e){case"add":r=r.substring(0,t.index)+n+r.substring(t.index);break;case"rm":r=r.substring(0,t.index)+r.substring(t.index+i)}}),r);x.value=t}}else b===Ve.FOCUS?x.focus():b===Ve.BLUR?x.blur():b===Ve.PROP&&w&&(x[w]=_)}var r}async function cn(){const t=function(){const t=document.querySelector("#cat-start-page").querySelector(".play-btn");return t.classList.add("show"),t}();return new Promise(e=>{t.addEventListener("click",async()=>{t.classList.remove("show"),await d(500),e()})})}class hn{constructor(t,e=60){this.index=0,this.fps=e,this.animate=t}start(){let t=performance.now();const e=1e3/this.fps,n=r=>{this.requestID=requestAnimationFrame(n);const i=r-t;i>=e-.1&&(t=r-i%e,this.animate(i,this.index++))};this.requestID=requestAnimationFrame(n)}stop(){cancelAnimationFrame(this.requestID)}}class ln{constructor(t,e,n,r){this.speed=0,this.index=0,this.frameIndex=0,this.lastPercentage=0,this.isFirstTimePlay=!0,this.frameInterval=250,this.elapsedTime=0,this.audioOffset=500,this.curViewDiffTime=0,this.subtitlesIndex=0,this.c=t,this.pointer=e,this.progress=n,this.broadcaster=r,this.audioNode=new Audio,this.initViewState(),this.recordDataList.length?C.subscribe("player",t=>{this.progressState=C.getState().progress;const e=t.speed;this.speed=e,this.frames=this.getAccuratelyFrame(),e>0?this.play():this.pause(),this.setProgress()}):window.addEventListener("record-data",this.streamHandle.bind(this))}initAudio(){if(this.audioData)if(this.audioData.src)this.audioBlobUrl=location.href.split("/").slice(0,-1).join("/")+"/"+this.audioData.src;else{const t=this.audioData.bufferStrList;if(!t.length)return;const e=[];for(let n=0;n<t.length;n++){const r=Oe(t[n]);e.push(r)}const n=Ne(e,this.audioData.opts),r=URL.createObjectURL(n);this.audioBlobUrl=r}}streamHandle(t){const e=t.detail;if(h(e))return window.__ReplayData__.snapshot=e,void this.c.setViewState();this.execFrame(e)}initViewState(){const{__ReplayDataList__:t}=window,e=t[0];this.recordDataList=e.records,this.audioData=e.audio,this.initAudio(),this.recordDataList.length&&(this.subtitlesIndex=0,this.broadcaster.cleanText(),this.curViewEndTime=+this.recordDataList.slice(-1)[0].time,this.curViewDiffTime=0,window.__ReplayData__={index:0,...e})}async switchNextView(t){const{__ReplayData__:e,__ReplayDataList__:n}=window;if(!this.recordDataList)return;const r=e.index+1;if(r>n.length-1)return;const i=n[r],o=+this.recordDataList.slice(-1)[0].time,s=+i.records[0].time;this.curViewDiffTime+=s-o,window.__ReplayData__={index:r,...i},this.recordDataList=i.records,this.audioData=i.audio,this.initAudio(),this.curViewEndTime=+this.recordDataList.slice(-1)[0].time,this.index=0,t&&await d(t),this.c.setViewState()}play(){this.playAudio(),0===this.index&&(this.progress.resetThumb(),this.isFirstTimePlay||(this.initViewState(),this.c.setViewState()),this.isFirstTimePlay=!1),this.RAF&&this.RAF.requestID&&this.RAF.stop();this.RAF=new hn(async function(e,n){const r=s()-t;if(this.frameIndex>0&&!this.frames[this.frameIndex])return void this.stop();this.startTime||(this.startTime=Number(this.frames[this.frameIndex]));const i=this.startTime+r*this.speed;let o=Number(this.frames[this.frameIndex]);o>this.curViewEndTime-this.curViewDiffTime&&await this.switchNextView(200);for(;o&&i>=o;)this.renderEachFrame(),this.frameIndex++,o=Number(this.frames[this.frameIndex]);this.elapsedTime=(i-this.frames[0])/1e3;const a=Math.floor(2/(this.frameInterval/1e3)),c=!(this.frameIndex%a);if(this.audioNode.src&&c&&!(n%a*2)){const t=200;Math.abs(1e3*(this.elapsedTime-this.audioNode.currentTime))>this.audioOffset+t&&this.syncAudioCurrentTime()}}.bind(this),30),this.RAF.start();const t=s();this.startTime=0}playAudio(){this.audioData&&(this.audioBlobUrl?this.audioNode&&(this.audioNode.src&&this.audioNode.src===this.audioBlobUrl||(this.audioNode.src=this.audioBlobUrl),this.syncAudioCurrentTime(),this.speed>1?this.audioNode.pause():this.audioNode.play()):this.pauseAudio())}syncAudioCurrentTime(t=this.elapsedTime,e=this.audioOffset/1e3){this.audioNode.currentTime=t+e}pauseAudio(){this.audioNode&&this.audioNode.pause()}setProgress(){this.progress.setProgressAnimation(this.frameIndex,this.frames.length,this.frameInterval,this.speed)}renderEachFrame(){let t;for(this.progress.updateTimer((this.frameIndex+1)*this.frameInterval/1e3);this.index<this.recordDataList.length&&+(t=this.recordDataList[this.index]).time-this.curViewDiffTime<=this.frames[this.frameIndex];)this.execFrame.call(this,t),this.index++;if(this.audioData&&this.audioData.subtitles.length){const t=this.audioData.subtitles,{start:e,end:n,text:r}=t[this.subtitlesIndex],i=c(e),o=c(n);this.elapsedTime>o/1e3?(this.broadcaster.cleanText(),this.subtitlesIndex<t.length-1&&this.subtitlesIndex++):this.elapsedTime>i/1e3&&this.broadcaster.updateText(r)}}pause(){this.RAF&&this.RAF.stop(),C.dispatch({type:w.SPEED,data:{speed:0}}),this.pauseAudio()}stop(){this.speed=0,this.index=0,this.frameIndex=0,this.lastPercentage=0,this.elapsedTime=0,this.pause(),this.audioNode.currentTime=0}execFrame(t){setTimeout(()=>an.call(this,t),0)}getPercentInterval(){return.08*this.speed+.2}getAccuratelyFrame(t=this.frameInterval){this.progressState=C.getState().progress;const{startTime:e,endTime:n}=this.progressState,r=+n,i=[];for(let n=+e;n<r;n+=t)i.push(n);return i.push(r),i}}class dn{constructor(){this.x=0,this.y=0,this.initPointer()}initPointer(){this.pointer=document.getElementById("cat-pointer"),this.move(0,0)}move(t,e){this.x=t,this.y=e,this.pointer.style.left=this.x+"px",this.pointer.style.top=this.y+"px"}async click(t,e){this.move(t,e),await d(100),je(this.pointer,"active",""),setTimeout(()=>{je(this.pointer,"active",null)},400)}}class un{constructor(t){this.progress=t.container.querySelector(".cat-progress"),this.timer=t.container.querySelector(".cat-timer time"),this.thumb=this.progress.querySelector(".cat-thumb"),this.currentProgress=this.progress.querySelector(".cat-current-progress"),this.slider=this.progress.querySelector(".cat-slider-bar")}async setProgressAnimation(t,e,n,r){if(!t&&!r)return;if(this.currentProgress.classList.remove("active"),await d(20),this.currentProgress.style.removeProperty("transition"),!r)return this.currentProgress.style.width=this.currentProgress.offsetWidth+"px",void this.currentProgress.style.setProperty("transition","none");const i=(e-t)*n/r/1e3;this.currentProgress.style.transitionDuration=i+"s",this.currentProgress.classList.add("active")}updateTimer(t){const e=function(t){t<=0&&(t=0);const[e,n,r]=[Math.floor(t/3600),Math.floor(t/60%60),Math.floor(t%60)];return[e,n,r].map(t=>t<=9?"0"+t:t).join(":").replace(/^00\:/,"")}(t);e&&(this.timer.innerHTML=e)}resetThumb(){this.currentProgress.classList.remove("active");const t=this.currentProgress.cloneNode(!0);this.currentProgress.parentNode.replaceChild(t,this.currentProgress),t.style.width="0",this.currentProgress=t}}class fn{constructor(){this.init()}init(){this.broadcaster=document.querySelector(".cat-broadcaster"),this.floatLayer=this.broadcaster.firstElementChild,this.subtitle=this.floatLayer.firstElementChild}updateText(t){t=t.trim(),this.subtitle.innerText.trim()!==t&&(this.subtitle.innerText=t,this.floatLayer.toggleAttribute("hidden",!t))}cleanText(){this.updateText("")}}class pn{constructor(t){this.container=t,this.initComponent()}initComponent(){this.keyboard=new on(this.container),this.progress=new un(this.container),this.pointer=new dn,this.broadcaster=new fn,this.player=new ln(this.container,this.pointer,this.progress,this.broadcaster)}}var mn=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],yn=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var i=mn.exec(t||""),o={},s=14;s--;)o[gn[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},vn=1e3,wn=60*vn,bn=60*wn,_n=24*bn,kn=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*_n;case"hours":case"hour":case"hrs":case"hr":case"h":return n*bn;case"minutes":case"minute":case"mins":case"min":case"m":return n*wn;case"seconds":case"second":case"secs":case"sec":case"s":return n*vn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=_n)return xn(t,e,_n,"day");if(e>=bn)return xn(t,e,bn,"hour");if(e>=wn)return xn(t,e,wn,"minute");if(e>=vn)return xn(t,e,vn,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=_n)return Math.round(t/_n)+"d";if(e>=bn)return Math.round(t/bn)+"h";if(e>=wn)return Math.round(t/wn)+"m";if(e>=vn)return Math.round(t/vn)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function xn(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}var Cn=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){let o;function s(...t){if(!s.enabled)return;const e=s,r=Number(new Date),i=r-(o||r);e.diff=i,e.prev=o,e.curr=r,o=r,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;a++;const o=n.formatters[i];if("function"==typeof o){const n=t[a];r=o.call(e,n),t.splice(a,1),a--}return r}),n.formatArgs.call(e,t),(e.log||n.log).apply(e,t)}return s.namespace=t,s.enabled=n.enabled(t),s.useColors=n.useColors(),s.color=e(t),s.destroy=r,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){const t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function i(t,e){const r=n(this.namespace+(void 0===e?":":e)+t);return r.log=this.log,r}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},n.disable=function(){const t=[...n.names.map(o),...n.skips.map(o).map(t=>"-"+t)].join(",");return n.enable(""),t},n.enable=function(t){let e;n.save(t),n.names=[],n.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){const t=n.instances[e];t.enabled=n.enabled(t.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;let e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=kn,Object.keys(t).forEach(e=>{n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=e,n.enable(n.load()),n},En=n((function(t,e){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=Cn(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),Sn=(En.log,En.formatArgs,En.save,En.load,En.useColors,En.storage,En.colors,En("socket.io-client:url")),An=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(Sn("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),Sn("parse %s",t),n=yn(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n};var Nn=36e5,Bn=24*Nn,Fn=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*Bn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Nn;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return On(t,Bn,"day")||On(t,Nn,"hour")||On(t,6e4,"minute")||On(t,1e3,"second")||t+" ms"}(t):function(t){if(t>=Bn)return Math.round(t/Bn)+"d";if(t>=Nn)return Math.round(t/Nn)+"h";if(t>=6e4)return Math.round(t/6e4)+"m";if(t>=1e3)return Math.round(t/1e3)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function On(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var Tn=n((function(t,e){function n(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var h=i.log||e.log||console.log.bind(console);h.apply(t,s)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Fn,e.instances=[],e.names=[],e.skips=[],e.formatters={}})),Dn=(Tn.coerce,Tn.disable,Tn.enable,Tn.enabled,Tn.humanize,Tn.instances,Tn.names,Tn.skips,Tn.formatters,n((function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=Tn).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())}))),Rn=(Dn.log,Dn.formatArgs,Dn.save,Dn.load,Dn.useColors,Dn.storage,Dn.colors,n((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}))),Ln={}.toString,In=Array.isArray||function(t){return"[object Array]"==Ln.call(t)},Pn=function(t){return zn&&Buffer.isBuffer(t)||Mn&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))},zn="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,Mn="function"==typeof ArrayBuffer;var Un=Object.prototype.toString,jn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Un.call(Blob),Hn="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Un.call(File);var qn=function(t){var e=[],n=t.data,r=t;return r.data=function t(e,n){if(!e)return e;if(Pn(e)){var r={_placeholder:!0,num:n.length};return n.push(e),r}if(In(e)){for(var i=new Array(e.length),o=0;o<e.length;o++)i[o]=t(e[o],n);return i}if("object"==typeof e&&!(e instanceof Date)){i={};for(var s in e)i[s]=t(e[s],n);return i}return e}(n,e),r.attachments=e.length,{packet:r,buffers:e}},Wn=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(In(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n);return e}(t.data,e),t.attachments=void 0,t},Vn=function(t,e){var n=0,r=t;!function t(i,o,s){if(!i)return i;if(jn&&i instanceof Blob||Hn&&i instanceof File){n++;var a=new FileReader;a.onload=function(){s?s[o]=this.result:r=this.result,--n||e(r)},a.readAsArrayBuffer(i)}else if(In(i))for(var c=0;c<i.length;c++)t(i[c],c,i);else if("object"==typeof i&&!Pn(i))for(var h in i)t(i[h],h,i)}(r),n||e(r)},Zn=n((function(t,e){var n=Dn("socket.io-parser");function r(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=s;var i=e.ERROR+'"encode error"';function o(t){var r=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return i;r+=o}return n("encoded %j as %s",t,r),r}function s(){this.reconstructor=null}function a(t){this.reconPack=t,this.buffers=[]}function c(t){return{type:e.ERROR,data:"parser error: "+t}}r.prototype.encode=function(t,r){(n("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){Vn(t,(function(t){var n=qn(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,r):r([o(t)])},Rn(s.prototype),s.prototype.add=function(t){var r;if("string"==typeof t)r=function(t){var r=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return c("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!==t.charAt(r))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(r+1))for(i.nsp="";++r;){if(","===(a=t.charAt(r)))break;if(i.nsp+=a,r===t.length)break}else i.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(i.id="";++r;){var a;if(null==(a=t.charAt(r))||Number(a)!=a){--r;break}if(i.id+=t.charAt(r),r===t.length)break}i.id=Number(i.id)}if(t.charAt(++r)){var h=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(r));if(!(!1!==h&&(i.type===e.ERROR||In(h))))return c("invalid payload");i.data=h}return n("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new a(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!Pn(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Wn(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Kn=(Zn.protocol,Zn.types,Zn.CONNECT,Zn.DISCONNECT,Zn.EVENT,Zn.ACK,Zn.ERROR,Zn.BINARY_EVENT,Zn.BINARY_ACK,Zn.Encoder,Zn.Decoder,n((function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}}))),Yn=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Kn))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}},Jn=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e},Xn=Object.prototype.toString,Gn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Xn.call(Blob),Qn="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Xn.call(File),$n=function t(e){if(!e||"object"!=typeof e)return!1;if(In(e)){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||Gn&&e instanceof Blob||Qn&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1};var tr=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer},er=function(t,e,n){var r=!1;return n=n||nr,i.count=t,0===t?e():i;function i(t,o){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(r=!0,e(t),e=n):0!==i.count||r||e(null,o)}};function nr(){}var rr,ir,or,sr=String.fromCharCode;function ar(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function cr(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function hr(t,e){return sr(t>>e&63|128)}function lr(t,e){if(0==(4294967168&t))return sr(t);var n="";return 0==(4294965248&t)?n=sr(t>>6&31|192):0==(4294901760&t)?(cr(t,e)||(t=65533),n=sr(t>>12&15|224),n+=hr(t,6)):0==(4292870144&t)&&(n=sr(t>>18&7|240),n+=hr(t,12),n+=hr(t,6)),n+=sr(63&t|128)}function dr(){if(or>=ir)throw Error("Invalid byte index");var t=255&rr[or];if(or++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function ur(t){var e,n;if(or>ir)throw Error("Invalid byte index");if(or==ir)return!1;if(e=255&rr[or],or++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|dr())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|dr()<<6|dr())>=2048)return cr(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|dr()<<12|dr()<<6|dr())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var fr={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=ar(t),i=r.length,o=-1,s="";++o<i;)s+=lr(r[o],n);return s},decode:function(t,e){var n=!1!==(e=e||{}).strict;rr=ar(t),ir=rr.length,or=0;for(var r,i=[];!1!==(r=ur(n));)i.push(r);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=sr((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=sr(e);return i}(i)}},pr=n((function(t,e){!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,s,a=.75*t.length,c=t.length,h=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),d=new Uint8Array(l);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],d[h++]=r<<2|i>>4,d[h++]=(15&i)<<4|o>>2,d[h++]=(3&o)<<6|63&s;return l}}()})),mr=(pr.encode,pr.decode,void 0!==mr?mr:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder),gr=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),yr=gr&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),vr=mr&&mr.prototype.append&&mr.prototype.getBlob;function wr(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function br(t,e){e=e||{};var n=new mr;return wr(t).forEach((function(t){n.append(t)})),e.type?n.getBlob(e.type):n.getBlob()}function _r(t,e){return new Blob(wr(t),e||{})}"undefined"!=typeof Blob&&(br.prototype=Blob.prototype,_r.prototype=Blob.prototype);var kr=gr?yr?Blob:_r:vr?br:void 0,xr=n((function(t,e){var n;"undefined"!=typeof ArrayBuffer&&(n=pr);var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),i="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=r||i;e.protocol=3;var s=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=Jn(s),c={type:"error",data:"parser error"};function h(t,e,n){for(var r=new Array(t.length),i=er(t.length,n),o=function(t,n,i){e(n,(function(e,n){r[t]=n,i(e,r)}))},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=s[t.type];for(var c=0;c<o.length;c++)a[c+1]=o[c];return r(a.buffer)}(t,n,i);if(void 0!==kr&&a instanceof kr)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(o)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){e.encodePacket({type:t.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=s[t.type];var a=new kr([i.buffer,t.data]);return r(a)}(t,n,i);if(a&&a.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,i);var c=s[t.type];return void 0!==t.data&&(c+=r?fr.encode(String(t.data),{strict:!1}):String(t.data)),i(""+c)},e.encodeBase64Packet=function(t,n){var r,i="b"+e.packets[t.type];if(void 0!==kr&&t.data instanceof kr){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},e.decodePacket=function(t,n,r){if(void 0===t)return c;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=fr.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return c;var i=t.charAt(0);return Number(i)==i&&a[i]?t.length>1?{type:a[i],data:t.substring(1)}:{type:a[i]}:c}i=new Uint8Array(t)[0];var o=tr(t,1);return kr&&"blob"===n&&(o=new kr([o])),{type:a[i],data:o}},e.decodeBase64Packet=function(t,e){var r=a[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=n.decode(t.substr(1));return"blob"===e&&kr&&(i=new kr([i])),{type:r,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=$n(t);if(n&&i)return kr&&!o?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");h(t,(function(t,r){e.encodePacket(t,!!i&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(c,0,1);for(var o,s,a="",h=0,l=t.length;h<l;h++){var d=t.charAt(h);if(":"===d){if(""===a||a!=(o=Number(a)))return r(c,0,1);if(a!=(s=t.substr(h+1,o)).length)return r(c,0,1);if(s.length){if(i=e.decodePacket(s,n,!1),c.type===i.type&&c.data===i.data)return r(c,0,1);if(!1===r(i,h+o,l))return}h+=o,a=""}else a+=d}return""!==a?r(c,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));h(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),n(i.buffer)}))},e.encodePayloadAsBlob=function(t,n){h(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,kr){var a=new kr([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new kr(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),a=0===s[0],h="",l=1;255!==s[l];l++){if(h.length>310)return r(c,0,1);h+=s[l]}i=tr(i,2+h.length),h=parseInt(h);var d=tr(i,0,h);if(a)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(t){var u=new Uint8Array(d);d="";for(l=0;l<u.length;l++)d+=String.fromCharCode(u[l])}o.push(d),i=tr(i,h)}var f=o.length;o.forEach((function(t,i){r(e.decodePacket(t,n,!0),i,f)}))}})),Cr=(xr.protocol,xr.packets,xr.encodePacket,xr.encodeBase64Packet,xr.decodePacket,xr.decodeBase64Packet,xr.encodePayload,xr.decodePayload,xr.encodePayloadAsArrayBuffer,xr.encodePayloadAsBlob,xr.decodePayloadAsBinary,Er);function Er(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}Rn(Er.prototype),Er.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},Er.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Er.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Er.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},Er.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Er.prototype.onData=function(t){var e=xr.decodePacket(t,this.socket.binaryType);this.onPacket(e)},Er.prototype.onPacket=function(t){this.emit("packet",t)},Er.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Sr,Ar=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},Nr=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e},Br=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Fr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Or={},Tr=0,Dr=0;function Rr(t){var e="";do{e=Fr[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function Lr(){var t=Rr(+new Date);return t!==Sr?(Tr=0,Sr=t):t+"."+Rr(Tr++)}for(;Dr<64;Dr++)Or[Fr[Dr]]=Dr;Lr.encode=Rr,Lr.decode=function(t){var e=0;for(Dr=0;Dr<t.length;Dr++)e=64*e+Or[t.charAt(Dr)];return e};var Ir=Lr,Pr=En("engine.io-client:polling"),zr=Ur,Mr=null!=new Yn({xdomain:!1}).responseType;function Ur(t){var e=t&&t.forceBase64;Mr&&!e||(this.supportsBinary=!1),Cr.call(this,t)}Br(Ur,Cr),Ur.prototype.name="polling",Ur.prototype.doOpen=function(){this.poll()},Ur.prototype.pause=function(t){var e=this;function n(){Pr("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(Pr("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){Pr("pre-pause polling complete"),--r||n()}))),this.writable||(Pr("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){Pr("pre-pause writing complete"),--r||n()})))}else n()},Ur.prototype.poll=function(){Pr("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Ur.prototype.onData=function(t){var e=this;Pr("polling got data %s",t);xr.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Pr('ignoring poll - transport state "%s"',this.readyState))},Ur.prototype.doClose=function(){var t=this;function e(){Pr("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(Pr("transport open - closing"),e()):(Pr("transport not open - deferring close"),this.once("open",e))},Ur.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};xr.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},Ur.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=Ir()),this.supportsBinary||t.sid||(t.b64=1),t=Ar(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t};var jr=En("engine.io-client:polling-xhr"),Hr=Vr,qr=Zr;function Wr(){}function Vr(t){if(zr.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function Zr(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(Br(Vr,zr),Vr.prototype.supportsBinary=!0,Vr.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Zr(t)},Vr.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=r},Vr.prototype.doPoll=function(){jr("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},Rn(Zr.prototype),Zr.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new Yn(t),n=this;try{jr("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},jr("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=Zr.requestsCount++,Zr.requests[this.index]=this)},Zr.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Zr.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},Zr.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},Zr.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Wr:this.xhr.onreadystatechange=Wr,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Zr.requests[this.index],this.xhr=null}},Zr.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},Zr.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Zr.prototype.abort=function(){this.cleanup()},Zr.requestsCount=0,Zr.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Yr);else if("function"==typeof addEventListener){var Kr="onpagehide"in self?"pagehide":"unload";addEventListener(Kr,Yr,!1)}function Yr(){for(var t in Zr.requests)Zr.requests.hasOwnProperty(t)&&Zr.requests[t].abort()}Hr.Request=qr;var Jr,Xr=ei,Gr=/\n/g,Qr=/\\n/g;function $r(){}function ti(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function ei(t){if(zr.call(this,t),this.query=this.query||{},!Jr){var e=ti();Jr=e.___eio=e.___eio||[]}this.index=Jr.length;var n=this;Jr.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=$r)}),!1)}Br(ei,zr),ei.prototype.supportsBinary=!1,ei.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),zr.prototype.doClose.call(this)},ei.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},ei.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),t=t.replace(Qr,"\\\n"),this.area.value=t.replace(Gr,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var ni,ri,ii,oi=(ni=Object.freeze({__proto__:null,default:{}}))&&ni.default||ni,si=En("engine.io-client:websocket");if("undefined"!=typeof WebSocket?ri=WebSocket:"undefined"!=typeof self&&(ri=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{ii=oi}catch(t){}var ai=ri||ii,ci=hi;function hi(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=ri&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(ai=ii),Cr.call(this,t)}Br(hi,Cr),hi.prototype.name="websocket",hi.prototype.supportsBinary=!0,hi.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new ai(t,e):new ai(t):new ai(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},hi.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},hi.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,i=n;r<i;r++)!function(t){xr.encodePacket(t,e.supportsBinary,(function(r){if(!e.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),e.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<e.perMessageDeflate.threshold&&(i.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(r):e.ws.send(r,i)}catch(t){si("websocket closed before onclose event")}--n||o()}))}(t[r]);function o(){e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0)}},hi.prototype.onClose=function(){Cr.prototype.onClose.call(this)},hi.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},hi.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=Ir()),this.supportsBinary||(t.b64=1),(t=Ar(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},hi.prototype.check=function(){return!(!ai||"__initialize"in ai&&this.name===hi.prototype.name)};var li={polling:function(t){var e=!1,n=!1,r=!1!==t.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?443:80),e=t.hostname!==location.hostname||o!==t.port,n=t.secure!==i}if(t.xdomain=e,t.xscheme=n,"open"in new Yn(t)&&!t.forceJSONP)return new Hr(t);if(!r)throw new Error("JSONP disabled");return new Xr(t)},websocket:ci},di=[].indexOf,ui=function(t,e){if(di)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},fi=En("engine.io-client:socket"),pi=mi;function mi(t,e){if(!(this instanceof mi))return new mi(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=yn(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=yn(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=Nr(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}mi.priorWebsocketSuccess=!1,Rn(mi.prototype),mi.protocol=xr.protocol,mi.Socket=mi,mi.Transport=Cr,mi.transports=li,mi.parser=xr,mi.prototype.createTransport=function(t){fi('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=xr.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new li[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},mi.prototype.open=function(){var t;if(this.rememberUpgrade&&mi.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},mi.prototype.setTransport=function(t){fi("setting transport %s",t.name);var e=this;this.transport&&(fi("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},mi.prototype.probe=function(t){fi('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(fi('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(fi('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;mi.priorWebsocketSuccess="websocket"===e.name,fi('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(fi("changing transport and sending upgrade packet"),l(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{fi('probe transport "%s" failed',t);var o=new Error("probe error");o.transport=e.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,l(),e.close(),e=null)}function s(n){var i=new Error("probe error: "+n);i.transport=e.name,o(),fi('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function a(){s("transport closed")}function c(){s("socket closed")}function h(t){e&&t.name!==e.name&&(fi('"%s" works - aborting "%s"',t.name,e.name),o())}function l(){e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",a),r.removeListener("close",c),r.removeListener("upgrading",h)}mi.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",h),e.open()},mi.prototype.onOpen=function(){if(fi("socket open"),this.readyState="open",mi.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){fi("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},mi.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(fi('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else fi('packet received with socket readyState "%s"',this.readyState)},mi.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},mi.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},mi.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){fi("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},mi.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},mi.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},mi.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(fi("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},mi.prototype.write=mi.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},mi.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},mi.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),fi("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},mi.prototype.onError=function(t){fi("socket error %j",t),mi.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},mi.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){fi('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},mi.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~ui(this.transports,t[n])&&e.push(t[n]);return e};var gi=pi,yi=xr;gi.parser=yi;var vi=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n};var wi=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}};var bi=[].slice,_i=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=bi.call(arguments,2);return function(){return e.apply(t,n.concat(bi.call(arguments)))}},ki=n((function(t,e){var n=En("socket.io-client:socket");t.exports=o;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},i=Rn.prototype.emit;function o(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}Rn(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[wi(t,"open",_i(this,"onopen")),wi(t,"packet",_i(this,"onpacket")),wi(t,"close",_i(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var t=vi(arguments);return t.unshift("message"),this.emit.apply(this,t),this},o.prototype.emit=function(t){if(r.hasOwnProperty(t))return i.apply(this,arguments),this;var e=vi(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:$n(e))?Zn.BINARY_EVENT:Zn.EVENT,data:e,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},o.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},o.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?Ar(this.query):this.query;n("sending connect packet with query %s",t),this.packet({type:Zn.CONNECT,query:t})}else this.packet({type:Zn.CONNECT})},o.prototype.onclose=function(t){n("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},o.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===Zn.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case Zn.CONNECT:this.onconnect();break;case Zn.EVENT:case Zn.BINARY_EVENT:this.onevent(t);break;case Zn.ACK:case Zn.BINARY_ACK:this.onack(t);break;case Zn.DISCONNECT:this.ondisconnect();break;case Zn.ERROR:this.emit("error",t.data)}},o.prototype.onevent=function(t){var e=t.data||[];n("emitting event %j",e),null!=t.id&&(n("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?i.apply(this,e):this.receiveBuffer.push(e)},o.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var i=vi(arguments);n("sending ack %j",i),e.packet({type:$n(i)?Zn.BINARY_ACK:Zn.ACK,id:t,data:i})}}},o.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(n("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):n("bad ack %s",t.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)i.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Zn.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(t){return this.flags.compress=t,this},o.prototype.binary=function(t){return this.flags.binary=t,this}})),xi=Ci;function Ci(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ci.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Ci.prototype.reset=function(){this.attempts=0},Ci.prototype.setMin=function(t){this.ms=t},Ci.prototype.setMax=function(t){this.max=t},Ci.prototype.setJitter=function(t){this.jitter=t};var Ei=En("socket.io-client:manager"),Si=Object.prototype.hasOwnProperty,Ai=Ni;function Ni(t,e){if(!(this instanceof Ni))return new Ni(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new xi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||Zn;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}Ni.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)Si.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Ni.prototype.updateSocketIds=function(){for(var t in this.nsps)Si.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},Ni.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},Rn(Ni.prototype),Ni.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Ni.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Ni.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Ni.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Ni.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Ni.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Ni.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Ni.prototype.open=Ni.prototype.connect=function(t,e){if(Ei("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Ei("opening %s",this.uri),this.engine=gi(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=wi(n,"open",(function(){r.onopen(),t&&t()})),o=wi(n,"error",(function(e){if(Ei("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;Ei("connect attempt will timeout after %d",s);var a=setTimeout((function(){Ei("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},Ni.prototype.onopen=function(){Ei("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(wi(t,"data",_i(this,"ondata"))),this.subs.push(wi(t,"ping",_i(this,"onping"))),this.subs.push(wi(t,"pong",_i(this,"onpong"))),this.subs.push(wi(t,"error",_i(this,"onerror"))),this.subs.push(wi(t,"close",_i(this,"onclose"))),this.subs.push(wi(this.decoder,"decoded",_i(this,"ondecoded")))},Ni.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Ni.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Ni.prototype.ondata=function(t){this.decoder.add(t)},Ni.prototype.ondecoded=function(t){this.emit("packet",t)},Ni.prototype.onerror=function(t){Ei("error",t),this.emitAll("error",t)},Ni.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new ki(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&i()}function i(){~ui(r.connecting,n)||r.connecting.push(n)}return n},Ni.prototype.destroy=function(t){var e=ui(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Ni.prototype.packet=function(t){Ei("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},Ni.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Ni.prototype.cleanup=function(){Ei("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Ni.prototype.close=Ni.prototype.disconnect=function(){Ei("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Ni.prototype.onclose=function(t){Ei("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Ni.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)Ei("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();Ei("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(Ei("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(Ei("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(Ei("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},Ni.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};var Bi=n((function(t,e){var n=En("socket.io-client");t.exports=e=i;var r=e.managers={};function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o=An(t),s=o.source,a=o.id,c=o.path,h=r[a]&&c in r[a].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(n("ignoring socket cache for %s",s),i=Ai(s,e)):(r[a]||(n("new io instance for %s",s),r[a]=Ai(s,e)),i=r[a]),o.query&&!e.query&&(e.query=o.query),i.socket(o.path,e)}e.protocol=Zn.protocol,e.connect=i,e.Manager=Ai,e.Socket=ki}));Bi.managers,Bi.protocol,Bi.connect,Bi.Manager,Bi.Socket;async function Fi(t={autoplay:!0}){window.__ReplayOptions__=t;const e=await async function(){const{socketUrl:t}=window.__ReplayOptions__,e=t&&await async function(t){var e=Bi(t);return await new Promise(t=>{let n=!1;e.on("record-data",e=>{n?function(t,e){event=new CustomEvent(t,{detail:e}),window.dispatchEvent(event)}("record-data",e):e&&h(e)&&(t([{snapshot:e,records:[],audio:{src:"",bufferStrList:[],subtitles:[],opts:{}}}]),Le.observe(),n=!0)})})}(t)||function(){const t=window.__ReplayStrData__;if(!t)return null;const e=[],n=t.split("");for(let t=0;t<n.length;t++){const r=n[t].charCodeAt(0);e.push(r>=300?r-300:r)}const r=Ae.ungzip(e,{to:"string"});return JSON.parse(r)}()||await async function(){const t=await y;return l(await t.readAllRecords())}()||window.__ReplayDataList__;if(!e)return null;return window.__ReplayDataList__=e,window.__ReplayData__=Object.assign({index:0},e[0]),window.__ReplayData__}();if(!e)return;const{records:n,audio:r}=e,i=r&&(r.src||r.bufferStrList.length),o=new rn;if(new pn(o),document.querySelector("#cat-start-page").setAttribute("style",""),Le.ready(async()=>{if(i&&await cn(),function(){const t=document.querySelector("#cat-start-page");t.parentElement.removeChild(t)}(),n.length){const e=n[0],r=window.__ReplayDataList__,o=e.time,s=r.map(t=>t.records).reduce((t,e)=>t+(+e.slice(-1)[0].time-+e[0].time),0)+ +o;C.dispatch({type:_.INFO,data:{frame:0,curTime:o,startTime:o,endTime:s,length:n.length}}),(t.autoplay||i)&&C.dispatch({type:w.SPEED,data:{speed:1}})}}),!n.length){const t=document.querySelector("#cat-panel");t&&t.setAttribute("style","display: none")}}export{De as exportReplay,nn as record,Fi as replay};
